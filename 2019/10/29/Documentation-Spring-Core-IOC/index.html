<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>Documentation-Spring_Core_IOC | Zyumin</title>
  <meta name="keywords" content=" spring , doc ">
  <meta name="description" content="Documentation-Spring_Core_IOC | Zyumin">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="ä¸ºäº†å°†äº‹æƒ…åšå¥½ï¼Œé¦–å…ˆä½ å¾—å–œæ¬¢åšè¿™ä»¶äº‹ï¼Œè€Œä¸æ˜¯å–œæ¬¢è¿™ä»¶äº‹çš„ç»“æœï¼Œé‚£ä»…ä»…æ˜¯ç¬¬äºŒä½ã€‚">
<meta name="keywords" content="java">
<meta property="og:type" content="website">
<meta property="og:title" content="tags">
<meta property="og:url" content="http://yoursite.com/tags/index.html">
<meta property="og:site_name" content="Zyumin">
<meta property="og:description" content="ä¸ºäº†å°†äº‹æƒ…åšå¥½ï¼Œé¦–å…ˆä½ å¾—å–œæ¬¢åšè¿™ä»¶äº‹ï¼Œè€Œä¸æ˜¯å–œæ¬¢è¿™ä»¶äº‹çš„ç»“æœï¼Œé‚£ä»…ä»…æ˜¯ç¬¬äºŒä½ã€‚">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-03-23T07:09:56.946Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="tags">
<meta name="twitter:description" content="ä¸ºäº†å°†äº‹æƒ…åšå¥½ï¼Œé¦–å…ˆä½ å¾—å–œæ¬¢åšè¿™ä»¶äº‹ï¼Œè€Œä¸æ˜¯å–œæ¬¢è¿™ä»¶äº‹çš„ç»“æœï¼Œé‚£ä»…ä»…æ˜¯ç¬¬äºŒä½ã€‚">


<link rel="icon" href="/img/avatar.png">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/github-gist.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.png">
</a>
<div class="author">
    <span>zhengyumin</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/Zyumin" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"/>
                </svg>
            
        </a>
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=60037019" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"/>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">å…¨éƒ¨æ–‡ç« <small>(43)</small></div></li>
    
        
            
            <li><div data-rel="jdk">jdk<small>(13)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="java">java<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="spring">spring<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="mysql">mysql<small>(2)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="43">
<input type="hidden" id="yelog_site_word_count" value="132.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="ä»¥ in: å¼€å¤´è¿›è¡Œå…¨æ–‡æœç´¢" autocomplete="off" id="local-search-input">
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none">
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">week</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">hide</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">jdk</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">packages</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">utils</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">note</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">jvm</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">distributed</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">kafka</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">framework</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">netty</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">nio</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">zookeeper</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">redis</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Spec</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">thread</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">spring</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">tomcat</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">mysql</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">juc</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">classLoader</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">hotspot</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">j2ee</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">summary</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">lang</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">elasticsearch</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">servlet</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">io</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">serialization</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">file</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">ejb</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color3">gc</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">collections</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">map</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">doc</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color1">spring-mvc</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">spring-webflux</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a id="top" class="java " href="/2019/02/02/Overview_java/" data-tag="summary" data-author="">
            <span class="post-title" title="Overview_java">Overview_java</span>
            <span class="post-date" title="2019-02-02 20:43:14">2019/02/02</span>
        </a>
        
        <a id="top" class="spring " href="/2019/03/02/Overview_Spring/" data-tag="framework,spring" data-author="">
            <span class="post-title" title="Overview-Spring">Overview-Spring</span>
            <span class="post-date" title="2019-03-02 12:29:06">2019/03/02</span>
        </a>
        
        <a id="top" class="jdk " href="/2019/06/13/Overview_JDK/" data-tag="jdk,hotspot" data-author="">
            <span class="post-title" title="Overview_JDK">Overview_JDK</span>
            <span class="post-date" title="2019-06-13 19:36:54">2019/06/13</span>
        </a>
        
        <a class="spring " href="/2019/12/02/spring-Q-A/" data-tag="spring" data-author="">
            <span class="post-title" title="spring Q&amp;A">spring Q&amp;A</span>
            <span class="post-date" title="2019-12-02 18:20:38">2019/12/02</span>
        </a>
        
        <a class="spring " href="/2019/10/29/Documentation-Spring-Core-IOC/" data-tag="spring,doc" data-author="">
            <span class="post-title" title="Documentation-Spring_Core_IOC">Documentation-Spring_Core_IOC</span>
            <span class="post-date" title="2019-10-29 21:51:07">2019/10/29</span>
        </a>
        
        <a class="jdk " href="/2019/09/26/JDK-Packages-java-nio/" data-tag="jdk,packages,nio" data-author="">
            <span class="post-title" title="JDK_Packages_java_nio">JDK_Packages_java_nio</span>
            <span class="post-date" title="2019-09-26 10:39:22">2019/09/26</span>
        </a>
        
        <a class="jdk " href="/2019/09/23/JDK-Packages-java-io/" data-tag="jdk,packages,io,serialization,file" data-author="">
            <span class="post-title" title="JDK_Packages_java_io">JDK_Packages_java_io</span>
            <span class="post-date" title="2019-09-23 16:07:43">2019/09/23</span>
        </a>
        
        <a class="jdk " href="/2019/08/31/JDK-Class/" data-tag="jdk" data-author="">
            <span class="post-title" title="JDK_Class">JDK_Class</span>
            <span class="post-date" title="2019-08-31 19:38:34">2019/08/31</span>
        </a>
        
        <a class="jdk " href="/2019/08/31/JDK-Thread/" data-tag="jdk,jvm,hotspot" data-author="">
            <span class="post-title" title="JDK_Thread">JDK_Thread</span>
            <span class="post-date" title="2019-08-31 18:16:08">2019/08/31</span>
        </a>
        
        <a class="java " href="/2019/08/29/JVM-mainæ–¹æ³•åˆ†æ/" data-tag="java,jvm" data-author="">
            <span class="post-title" title="JVM_mainæ–¹æ³•åˆ†æ">JVM_mainæ–¹æ³•åˆ†æ</span>
            <span class="post-date" title="2019-08-29 23:38:13">2019/08/29</span>
        </a>
        
        <a class="jdk " href="/2019/08/24/JDK-ReentrantLock/" data-tag="jdk,juc" data-author="">
            <span class="post-title" title="JDK_ReentrantLock">JDK_ReentrantLock</span>
            <span class="post-date" title="2019-08-24 18:48:54">2019/08/24</span>
        </a>
        
        <a class="java " href="/2019/08/17/JVM-Synchronized/" data-tag="jvm" data-author="">
            <span class="post-title" title="JVM_Synchronized">JVM_Synchronized</span>
            <span class="post-date" title="2019-08-17 17:01:54">2019/08/17</span>
        </a>
        
        <a class="java " href="/2019/08/11/Overview-Java-Virtual-Machine/" data-tag="jvm" data-author="">
            <span class="post-title" title="Overview_Java Virtual Machine">Overview_Java Virtual Machine</span>
            <span class="post-date" title="2019-08-11 19:05:38">2019/08/11</span>
        </a>
        
        <a class="jdk " href="/2019/08/11/JDK-Packages-java-lang/" data-tag="jdk,packages,lang" data-author="">
            <span class="post-title" title="JDK_Packages_java_lang">JDK_Packages_java_lang</span>
            <span class="post-date" title="2019-08-11 19:04:56">2019/08/11</span>
        </a>
        
        <a class="jdk " href="/2019/08/11/JDK-Packages-java-utils/" data-tag="jdk,packages,utils" data-author="">
            <span class="post-title" title="JDK_Packages_java_utils">JDK_Packages_java_utils</span>
            <span class="post-date" title="2019-08-11 19:04:25">2019/08/11</span>
        </a>
        
        <a class="jdk " href="/2019/08/10/JDK-The-Concurrent-Framework/" data-tag="jdk,juc" data-author="">
            <span class="post-title" title="JDK_The Concurrent Framework">JDK_The Concurrent Framework</span>
            <span class="post-date" title="2019-08-10 19:45:39">2019/08/10</span>
        </a>
        
        <a class="jdk " href="/2019/07/29/JDK-The-Collections-Framework/" data-tag="jdk,collections" data-author="">
            <span class="post-title" title="JDK_The Collections Framework">JDK_The Collections Framework</span>
            <span class="post-date" title="2019-07-29 15:26:01">2019/07/29</span>
        </a>
        
        <a class="" href="/2019/07/10/Note-ç å†œç¿»èº«/" data-tag="java,note" data-author="">
            <span class="post-title" title="Note_ç å†œç¿»èº«">Note_ç å†œç¿»èº«</span>
            <span class="post-date" title="2019-07-10 22:18:56">2019/07/10</span>
        </a>
        
        <a class="jdk " href="/2019/07/06/JDK-ClassLoader/" data-tag="jdk,classLoader" data-author="">
            <span class="post-title" title="JDK_ClassLoader">JDK_ClassLoader</span>
            <span class="post-date" title="2019-07-06 23:12:51">2019/07/06</span>
        </a>
        
        <a class="" href="/2019/06/26/Overview_Elasticsearch/" data-tag="framework,elasticsearch" data-author="">
            <span class="post-title" title="Overview_Elasticsearch">Overview_Elasticsearch</span>
            <span class="post-date" title="2019-06-26 18:06:48">2019/06/26</span>
        </a>
        
        <a class="jdk " href="/2019/06/24/J-U-C-ConcurrentHashMap/" data-tag="juc,map" data-author="">
            <span class="post-title" title="J.U.C_ConcurrentHashMap">J.U.C_ConcurrentHashMap</span>
            <span class="post-date" title="2019-06-24 19:03:29">2019/06/24</span>
        </a>
        
        <a class="java " href="/2019/06/19/JVM-Garbage-Collection/" data-tag="jvm,gc" data-author="">
            <span class="post-title" title="JVM_Garbage Collection">JVM_Garbage Collection</span>
            <span class="post-date" title="2019-06-19 00:28:10">2019/06/19</span>
        </a>
        
        <a class="jdk " href="/2019/06/16/J-U-C-InterruptedException/" data-tag="juc" data-author="">
            <span class="post-title" title="J.U.C_InterruptedException">J.U.C_InterruptedException</span>
            <span class="post-date" title="2019-06-16 16:09:43">2019/06/16</span>
        </a>
        
        <a class="java " href="/2019/06/14/Spec-JSR133/" data-tag="jvm,Spec,thread" data-author="">
            <span class="post-title" title="Spec_JSR133">Spec_JSR133</span>
            <span class="post-date" title="2019-06-14 19:26:57">2019/06/14</span>
        </a>
        
        <a class="java " href="/2019/06/13/Spec-Java-Virtual-Machine/" data-tag="jvm,Spec" data-author="">
            <span class="post-title" title="Spec_Java Virtual Machine">Spec_Java Virtual Machine</span>
            <span class="post-date" title="2019-06-13 17:25:17">2019/06/13</span>
        </a>
        
        <a class="" href="/2019/06/12/Overview_Kafka/" data-tag="kafka,framework" data-author="">
            <span class="post-title" title="kafkaæ·±å…¥æµ…å‡º">kafkaæ·±å…¥æµ…å‡º</span>
            <span class="post-date" title="2019-06-12 20:05:37">2019/06/12</span>
        </a>
        
        <a class="" href="/2019/06/10/Overview_Redis/" data-tag="framework,redis" data-author="">
            <span class="post-title" title="redisæ·±å…¥æµ…å‡º">redisæ·±å…¥æµ…å‡º</span>
            <span class="post-date" title="2019-06-10 18:33:40">2019/06/10</span>
        </a>
        
        <a class="" href="/2019/06/06/Note_javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯/" data-tag="java,note,juc" data-author="">
            <span class="post-title" title="Note_javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯">Note_javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯</span>
            <span class="post-date" title="2019-06-06 19:05:01">2019/06/06</span>
        </a>
        
        <a class="" href="/2019/06/05/Overview_Netty/" data-tag="framework,netty,nio" data-author="">
            <span class="post-title" title="Nettyæ·±å…¥æµ…å‡º">Nettyæ·±å…¥æµ…å‡º</span>
            <span class="post-date" title="2019-06-05 22:01:31">2019/06/05</span>
        </a>
        
        <a class="" href="/2019/06/05/Note_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº/" data-tag="java,note,jvm" data-author="">
            <span class="post-title" title="Note_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº">Note_æ·±å…¥ç†è§£javaè™šæ‹Ÿæœº</span>
            <span class="post-date" title="2019-06-05 21:12:25">2019/06/05</span>
        </a>
        
        <a class="mysql " href="/2019/06/04/Overview_MySQL/" data-tag="mysql" data-author="">
            <span class="post-title" title="MySQLæ·±å…¥æµ…å‡º">MySQLæ·±å…¥æµ…å‡º</span>
            <span class="post-date" title="2019-06-04 22:02:31">2019/06/04</span>
        </a>
        
        <a class="" href="/2019/06/03/Overview_Zookeeper/" data-tag="distributed,framework,zookeeper" data-author="">
            <span class="post-title" title="Zookeeperæ·±å…¥æµ…å‡º">Zookeeperæ·±å…¥æµ…å‡º</span>
            <span class="post-date" title="2019-06-03 21:15:05">2019/06/03</span>
        </a>
        
        <a class="" href="/2019/06/03/Overview_Distributed/" data-tag="distributed" data-author="">
            <span class="post-title" title="åˆ†å¸ƒå¼ç†è®ºåŸºç¡€">åˆ†å¸ƒå¼ç†è®ºåŸºç¡€</span>
            <span class="post-date" title="2019-06-03 20:34:37">2019/06/03</span>
        </a>
        
        <a class="spring " href="/2019/04/10/spring-api-1-0/" data-tag="spring" data-author="">
            <span class="post-title" title="spring-api-1.0">spring-api-1.0</span>
            <span class="post-date" title="2019-04-10 09:45:25">2019/04/10</span>
        </a>
        
        <a class="" href="/2019/04/01/3æœˆç¬¬å››å‘¨çŸ¥è¯†ç‚¹è®°å½•/" data-tag="week,hide" data-author="">
            <span class="post-title" title="3æœˆç¬¬å››å‘¨çŸ¥è¯†ç‚¹è®°å½•">3æœˆç¬¬å››å‘¨çŸ¥è¯†ç‚¹è®°å½•</span>
            <span class="post-date" title="2019-04-01 09:51:07">2019/04/01</span>
        </a>
        
        <a class="mysql " href="/2019/03/30/è®°ä¸€æ¬¡mysqlæŸ¥è¯¢inçš„æ€è€ƒ/" data-tag="mysql" data-author="">
            <span class="post-title" title="è®°ä¸€æ¬¡mysqlæŸ¥è¯¢inçš„æ€è€ƒ">è®°ä¸€æ¬¡mysqlæŸ¥è¯¢inçš„æ€è€ƒ</span>
            <span class="post-date" title="2019-03-30 20:39:49">2019/03/30</span>
        </a>
        
        <a class="" href="/2019/03/26/è®°ä¸€æ¬¡Broken-pipeé—®é¢˜çš„æ€è€ƒ/" data-tag="tomcat" data-author="">
            <span class="post-title" title="è®°ä¸€æ¬¡Broken pipeé—®é¢˜çš„æ€è€ƒ">è®°ä¸€æ¬¡Broken pipeé—®é¢˜çš„æ€è€ƒ</span>
            <span class="post-date" title="2019-03-26 10:53:37">2019/03/26</span>
        </a>
        
        <a class="" href="/2019/03/24/3æœˆç¬¬ä¸‰å‘¨çŸ¥è¯†ç‚¹è®°å½•/" data-tag="week,hide" data-author="">
            <span class="post-title" title="3æœˆç¬¬ä¸‰å‘¨çŸ¥è¯†ç‚¹è®°å½•">3æœˆç¬¬ä¸‰å‘¨çŸ¥è¯†ç‚¹è®°å½•</span>
            <span class="post-date" title="2019-03-24 20:55:31">2019/03/24</span>
        </a>
        
        <a class="" href="/2019/03/10/Note_Expert One-on-One-J2EE-Development-without-EJB/" data-tag="spring,j2ee,ejb" data-author="">
            <span class="post-title" title="Expert One-on-One J2EE Development without EJB">Expert One-on-One J2EE Development without EJB</span>
            <span class="post-date" title="2019-03-10 19:45:57">2019/03/10</span>
        </a>
        
        <a class="" href="/2019/03/10/Note_Expert-One-on-One-J2EE-Design-and-Development/" data-tag="spring,j2ee" data-author="">
            <span class="post-title" title="Expert One-on-One J2EE Design and Development">Expert One-on-One J2EE Design and Development</span>
            <span class="post-date" title="2019-03-10 19:45:18">2019/03/10</span>
        </a>
        
        <a class="spring " href="/2019/02/03/spring-mvc/" data-tag="spring,servlet,spring-mvc,spring-webflux" data-author="">
            <span class="post-title" title="servlet_spring-mvc">servlet_spring-mvc</span>
            <span class="post-date" title="2019-02-03 15:50:16">2019/02/03</span>
        </a>
        
        <a class="" href="/2019/02/03/Overview_Tomcat/" data-tag="tomcat,servlet" data-author="">
            <span class="post-title" title="servlet_tomcat">servlet_tomcat</span>
            <span class="post-date" title="2019-02-03 15:49:08">2019/02/03</span>
        </a>
        
        <a class="" href="/2019/02/02/Spec_Servlet/" data-tag="j2ee,servlet" data-author="">
            <span class="post-title" title="j2ee_servlet">j2ee_servlet</span>
            <span class="post-date" title="2019-02-02 18:05:54">2019/02/02</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Documentation-Spring-Core-IOC" class="article article-type-post" itemscope="" itemprop="blogPost">
    
        <h1 class="article-title">Documentation-Spring_Core_IOC</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="spring">spring</a>
            
        </span>
        
        
        <span class="tag">
            
            <a href="javascript:" class="color2">spring</a>
            
            <a href="javascript:" class="color4">doc</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        åˆ›å»ºæ—¶é—´:<time class="date" title="æ›´æ–°æ—¶é—´: 2019-12-22 17:31:36">2019-10-29 21:51</time>
        
    </div>
    <div class="article-meta">
        
        <span>å­—æ•°:11.4k</span>
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯»:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸintroduction-ï¼ˆä»‹ç»ï¼‰"><span class="toc-text">ğŸŒŸintroduction ï¼ˆä»‹ç»ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BeanFactory"><span class="toc-text">BeanFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ApplicationContext"><span class="toc-text">ApplicationContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Beans"><span class="toc-text">Beans</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸContainer-overview-ï¼ˆå®¹å™¨é¢„è§ˆï¼‰"><span class="toc-text">ğŸŒŸContainer overview ï¼ˆå®¹å™¨é¢„è§ˆï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#configuration-metadata-é…ç½®å…ƒä¿¡æ¯"><span class="toc-text">configuration metadata (é…ç½®å…ƒä¿¡æ¯)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Instantiating-a-Container-å®ä¾‹åŒ–å®¹å™¨"><span class="toc-text">Instantiating a Container (å®ä¾‹åŒ–å®¹å™¨)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-Container-ä½¿ç”¨å®¹å™¨"><span class="toc-text">Using the Container (ä½¿ç”¨å®¹å™¨)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸBean-Overview-bean-é¢„è§ˆ"><span class="toc-text">ğŸŒŸBean Overview (bean é¢„è§ˆ)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#beanDefinition-beanå®šä¹‰"><span class="toc-text">beanDefinition(beanå®šä¹‰)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#naming-bean-beanå‘½å"><span class="toc-text">naming  bean (beanå‘½å)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Aliasing-a-Bean-outside-the-Bean-Definition"><span class="toc-text">Aliasing a Bean outside the Bean Definition</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Instantiating-bean-beanæ„é€ æ–¹å¼"><span class="toc-text">Instantiating bean (beanæ„é€ æ–¹å¼)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantiation-with-a-Constructor"><span class="toc-text">Instantiation with a Constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantiation-with-a-Static-Factory-Method"><span class="toc-text">Instantiation with a Static Factory Method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantiation-by-Using-an-Instance-Factory-Method"><span class="toc-text">Instantiation by Using an Instance Factory Method</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸDependencies-ä¾èµ–"><span class="toc-text">ğŸŒŸDependencies (ä¾èµ–)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependency-Injection-DI"><span class="toc-text">Dependency Injection(DI)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Constructor-based-Dependency-Injection-æ„é€ æ³¨å…¥"><span class="toc-text">Constructor-based Dependency Injection(æ„é€ æ³¨å…¥)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setter-based-Dependency-Injection-Setteræ³¨å…¥"><span class="toc-text">Setter-based Dependency Injection(Setteræ³¨å…¥)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dependency-Resolution-Process-ä¾èµ–è§£æè¿‡ç¨‹"><span class="toc-text">Dependency Resolution Process (ä¾èµ–è§£æè¿‡ç¨‹)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Circular-dependencies-å¾ªç¯ä¾èµ–é—®é¢˜"><span class="toc-text">Circular dependencies (å¾ªç¯ä¾èµ–é—®é¢˜)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#pre-instantiate-é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯"><span class="toc-text">pre-instantiate (é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#collaborating-è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹"><span class="toc-text">collaborating (è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples-of-Dependency-Injection"><span class="toc-text">Examples of Dependency Injection</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependencies-and-Configuration-in-Detail"><span class="toc-text">Dependencies and Configuration in Detail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-depends-on-ä½¿ç”¨-depends-on"><span class="toc-text">Using depends-on (ä½¿ç”¨ depends-on)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lazy-initialized-Beans-æ‡’åŠ è½½"><span class="toc-text">Lazy-initialized Beans (æ‡’åŠ è½½)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Autowiring-Collaborators-è‡ªåŠ¨è£…é…"><span class="toc-text">Autowiring Collaborators(è‡ªåŠ¨è£…é…)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Limitations-and-Disadvantages-of-Autowiring-è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹"><span class="toc-text">Limitations and Disadvantages of Autowiring (è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Excluding-a-Bean-from-Autowiring-ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean"><span class="toc-text">Excluding a Bean from Autowiring(ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-Injection-æ–¹æ³•æ³¨å…¥"><span class="toc-text">Method Injection (æ–¹æ³•æ³¨å…¥)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Lookup-Method-Injection"><span class="toc-text">Lookup Method Injection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arbitrary-ä»»æ„çš„-Method-Replacement"><span class="toc-text">Arbitrary (ä»»æ„çš„)Method Replacement</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸBean-Scopes-ï¼ˆä½œç”¨åŸŸï¼‰"><span class="toc-text">ğŸŒŸBean Scopes  ï¼ˆä½œç”¨åŸŸï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Singleton-Scope"><span class="toc-text">The Singleton Scope</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Prototype-Scope"><span class="toc-text">The Prototype Scope</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Singleton-Beans-with-Prototype-bean-Dependencies"><span class="toc-text">Singleton Beans with Prototype-bean Dependencies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Request-Session-Application-and-WebSocket-Scopes"><span class="toc-text">Request, Session, Application, and WebSocket Scopes</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Request-scope"><span class="toc-text">Request scope</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session-Scope"><span class="toc-text">Session Scope</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application-Scope"><span class="toc-text">Application Scope</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scoped-Beans-as-Dependencies"><span class="toc-text">Scoped Beans as Dependencies</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-Scopes"><span class="toc-text">Custom Scopes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸCustomizing-the-Nature-of-a-Bean-beanæ‰©å±•ç‚¹"><span class="toc-text">ğŸŒŸCustomizing the Nature of a Bean(beanæ‰©å±•ç‚¹)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifecycle-Callbacks-ç”Ÿå‘½å‘¨æœŸå›è°ƒ"><span class="toc-text">Lifecycle Callbacks (ç”Ÿå‘½å‘¨æœŸå›è°ƒ)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Initialization-Callbacks"><span class="toc-text">Initialization Callbacks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Destruction-Callbacks"><span class="toc-text">Destruction Callbacks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Default-Initialization-and-Destroy-Methods"><span class="toc-text">Default Initialization and Destroy Methods</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Combining-Lifecycle-Mechanisms"><span class="toc-text">Combining Lifecycle Mechanisms</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Startup-and-Shutdown-Callbacks"><span class="toc-text">Startup and Shutdown Callbacks</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Lifecycle"><span class="toc-text">Lifecycle</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LifecycleProcessor"><span class="toc-text">LifecycleProcessor</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Phased"><span class="toc-text">Phased</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shutting-Down-the-Spring-IoC-Container-Gracefully-in-Non-Web-Applications"><span class="toc-text">Shutting Down the Spring IoC Container Gracefully in Non-Web Applications</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ApplicationContextAware-and-BeanNameAware"><span class="toc-text">ApplicationContextAware and BeanNameAware</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ApplicationContextAware"><span class="toc-text">ApplicationContextAware</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BeanNameAware"><span class="toc-text">BeanNameAware</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-Aware-Interfaces"><span class="toc-text">Other Aware Interfaces</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean-Definition-Inheritance-å®šä¹‰ç»§æ‰¿"><span class="toc-text">Bean Definition Inheritance (å®šä¹‰ç»§æ‰¿)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸContainer-Extension-Points-ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰"><span class="toc-text">ğŸŒŸContainer Extension Points ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Customizing-Beans-by-Using-a-BeanPostProcessor"><span class="toc-text">Customizing Beans by Using a BeanPostProcessor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Customizing-Configuration-Metadata-with-a-BeanFactoryPostProcessor"><span class="toc-text">Customizing Configuration Metadata with a BeanFactoryPostProcessor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PropertySourcesPlaceholderConfigurer"><span class="toc-text">PropertySourcesPlaceholderConfigurer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PropertyOverrideConfigurer"><span class="toc-text">PropertyOverrideConfigurer</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Customizing-Instantiation-Logic-with-a-FactoryBean"><span class="toc-text">Customizing Instantiation Logic with a FactoryBean</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸAnnotation-based-Container-Configuration-ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰"><span class="toc-text">ğŸŒŸAnnotation-based Container Configuration ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Required"><span class="toc-text">@Required</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Autowired"><span class="toc-text">Using @Autowired</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Order"><span class="toc-text">@Order</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Java8-amp-spring-5-0"><span class="toc-text">Java8 &amp; spring 5.0</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fine-tuning-å¾®è°ƒ-Annotation-based-Autowiring-with-Primary"><span class="toc-text">Fine-tuning(å¾®è°ƒ) Annotation-based Autowiring with @Primary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fine-tuning-Annotation-based-Autowiring-with-Qualifiers"><span class="toc-text">Fine-tuning Annotation-based Autowiring with Qualifiers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Generics-as-Autowiring-Qualifiers"><span class="toc-text">Using Generics as Autowiring Qualifiers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-CustomAutowireConfigurer"><span class="toc-text">Using CustomAutowireConfigurer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Injection-with-Resource-JSR-250-amp-name"><span class="toc-text">Injection with @Resource (JSR-250 &amp; name)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Value"><span class="toc-text">Using @Value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-PostConstruct-and-PreDestroy-JSR-250"><span class="toc-text">Using @PostConstruct and @PreDestroy (JSR-250)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸClasspath-Scanning-and-Managed-Components"><span class="toc-text">ğŸŒŸClasspath Scanning and Managed Components</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Component-and-Further-Stereotype-Annotations-æ¨¡å¼æ³¨è§£"><span class="toc-text">@Component and Further Stereotype Annotations (æ¨¡å¼æ³¨è§£)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Meta-annotations-and-Composed-Annotations-å…ƒæ³¨è§£"><span class="toc-text">Using Meta-annotations and Composed Annotations(å…ƒæ³¨è§£)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Automatically-Detecting-Classes-and-Registering-Bean-Definitions-è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰"><span class="toc-text">Automatically Detecting Classes and Registering Bean Definitions(è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Filters-to-Customize-Scanning"><span class="toc-text">Using Filters to Customize Scanning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Bean-Metadata-within-Components-åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®"><span class="toc-text">Defining Bean Metadata within Components(åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Naming-Autodetected-Components-å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶"><span class="toc-text">Naming Autodetected Components(å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Providing-a-Scope-for-Autodetected-Components-æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ"><span class="toc-text">Providing a Scope for Autodetected Components(æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Providing-Qualifier-Metadata-with-Annotations"><span class="toc-text">Providing Qualifier Metadata with Annotations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Generating-an-Index-of-Candidate-Components-ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•"><span class="toc-text">Generating an Index of Candidate Components(ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸUsing-JSR-330-Standard-Annotations"><span class="toc-text">ğŸŒŸUsing JSR 330 Standard Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependency-Injection-with-Inject-and-Named"><span class="toc-text">Dependency Injection with @Inject and @Named</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Named-and-ManagedBean-Standard-Equivalents-to-the-Component-Annotation-Componentæ³¨è§£çš„æ¯”è¾ƒ"><span class="toc-text">@Named and @ManagedBean: Standard Equivalents to the @Component Annotation(@Componentæ³¨è§£çš„æ¯”è¾ƒ)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Limitations-of-JSR-330-Standard-Annotations"><span class="toc-text">Limitations of JSR-330 Standard Annotations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸJava-based-Container-Configuration-åŸºäºJavaçš„å®¹å™¨é…ç½®"><span class="toc-text">ğŸŒŸJava-based Container Configuration(åŸºäºJavaçš„å®¹å™¨é…ç½®)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-Concepts-Bean-and-Configuration"><span class="toc-text">Basic Concepts: @Bean and @Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Instantiating-the-Spring-Container-by-Using-AnnotationConfigApplicationContext"><span class="toc-text">Instantiating the Spring Container by Using AnnotationConfigApplicationContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-Bean-Annotation"><span class="toc-text">Using the @Bean Annotation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-Configuration-annotation"><span class="toc-text">Using the @Configuration annotation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Composing-Java-based-Configurations"><span class="toc-text">Composing Java-based Configurations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-Import-Annotation"><span class="toc-text">Using the @Import Annotation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conditionally-Include-Configuration-Classes-or-Bean-Methods"><span class="toc-text">Conditionally Include @Configuration Classes or @Bean Methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combining-Java-and-XML-Configuration"><span class="toc-text">Combining Java and XML Configuration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#XML-centric-Use-of-Configuration-Classes"><span class="toc-text">XML-centric Use of @Configuration Classes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ConfigurationClass-centric-Use-of-XML-with-ImportResource"><span class="toc-text">@ConfigurationClass-centric Use of XML with@ImportResource</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸEnvironment-Abstraction-ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰"><span class="toc-text">ğŸŒŸEnvironment Abstraction ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bean-Definition-Profiles"><span class="toc-text">Bean Definition Profiles</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-Profile"><span class="toc-text">Using @Profile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XML-Bean-Definition-Profiles"><span class="toc-text">XML Bean Definition Profiles</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Activating-a-Profile"><span class="toc-text">Activating a Profile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Default-Profile"><span class="toc-text">Default Profile</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PropertySource-Abstraction"><span class="toc-text">PropertySource Abstraction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-PropertySource"><span class="toc-text">Using @PropertySource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Placeholder-Resolution-in-Statements"><span class="toc-text">Placeholder Resolution in Statements</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸRegistering-a-LoadTimeWeaver"><span class="toc-text">ğŸŒŸRegistering a LoadTimeWeaver</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸAdditional-Capabilities-of-the-ApplicationContext-BeanFactoryçš„æ‰©å±•"><span class="toc-text">ğŸŒŸAdditional Capabilities of the ApplicationContext (BeanFactoryçš„æ‰©å±•)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Internationalization-using-MessageSource"><span class="toc-text">Internationalization using MessageSource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Standard-and-Custom-Events"><span class="toc-text">Standard and Custom Events</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Annotation-based-Event-Listeners"><span class="toc-text">Annotation-based Event Listeners</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Asynchronous-Listeners"><span class="toc-text">Asynchronous Listeners</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ordering-Listeners"><span class="toc-text">Ordering Listeners</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Generic-Events"><span class="toc-text">Generic Events</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Convenient-Access-to-Low-level-Resources"><span class="toc-text">Convenient Access to Low-level Resources</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Convenient-ApplicationContext-Instantiation-for-Web-Applications"><span class="toc-text">Convenient ApplicationContext Instantiation for Web Applications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deploying-a-Spring-ApplicationContext-as-a-Java-EE-RAR-File"><span class="toc-text">Deploying a Spring ApplicationContext as a Java EE RAR File</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸŒŸThe-BeanFactory"><span class="toc-text">ğŸŒŸThe BeanFactory</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BeanFactory-or-ApplicationContext"><span class="toc-text">BeanFactory or ApplicationContext?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€»è§ˆ"><span class="toc-text">æ€»è§ˆ</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å…³é”®å­—:  bean(å®šä¹‰-å…³ç³»ã€ åŠ è½½æ–¹å¼(åˆ›å»ºã€è§£æ)  ã€æ‰©å±•)ã€application(å®¹å™¨ã€resourceã€åŠ è½½ã€æ‰©å±•)ã€æ³¨è§£ã€ç¯å¢ƒ(Environment)</p>
<p>Tips: åœ¨çœ‹å®˜æ–¹æ–‡æ¡£æ—¶å€™çš„ä¸€äº›æ‘˜æŠ„ã€æ€»ç»“(å»ºè®®ç›´æ¥é˜…è¯»å®˜æ–¹æ–‡æ¡£</p>
<p><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans" target="_blank" rel="noopener">https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans</a></p>
<p>Version 5.2.1.RELEASE  ) </p>
<p>IOC å®¹å™¨(DI æŸ¥æ‰¾å’Œæ³¨å…¥)</p>
<p>â€‹    â€”&gt; Beanç®¡ç† (å…³ç³»ã€ä½œç”¨åŸŸã€ç”Ÿå‘½å‘¨æœŸã€æ‰©å±•ç‚¹)</p>
<p>â€‹    â€”&gt; Beanå…ƒä¿¡æ¯(å±æ€§å€¼)</p>
<p>åŸºç¡€è®¾æ–½æ‰©å±• (èµ„æºç®¡ç† ç±»å‹ äº‹ä»¶ç­‰)</p>
<a id="more"></a>
<!--toc-->
<h2 id="ğŸŒŸintroduction-ï¼ˆä»‹ç»ï¼‰"><a href="#ğŸŒŸintroduction-ï¼ˆä»‹ç»ï¼‰" class="headerlink" title="ğŸŒŸintroduction ï¼ˆä»‹ç»ï¼‰"></a>ğŸŒŸintroduction ï¼ˆä»‹ç»ï¼‰</h2><p>å…³é”®è¯: BeanFactoryã€ApplicationContext (App internationalization ã€event ã€web)ã€beans</p>
<p>This chapter covers the Spring Framework implementation of the Inversion of Control (IoC) principle.</p>
<p> IoC is also known as dependency injection (DI)</p>
<p>The <code>org.springframework.beans</code> and <code>org.springframework.context</code> packages are the basis for Spring Frameworkâ€™s IoC container. </p>
<h3 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h3><p>The <a href="https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" target="_blank" rel="noopener"><code>BeanFactory</code></a> interface provides an advanced configuration mechanism capable of managing any type of object</p>
<p>æä¾›äº†ä¸€ç§èƒ½å¤Ÿç®¡ç†ä»»ä½•ç±»å‹å¯¹è±¡çš„é«˜çº§é…ç½®æœºåˆ¶</p>
<h3 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h3><p><a href="https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" target="_blank" rel="noopener"><code>ApplicationContext</code></a> </p>
<ul>
<li>Easier integration with Springâ€™s AOP features (å’ŒAOPæ›´å¥½é›†æˆ)</li>
<li>Message resource handling (for use in internationalization)</li>
<li>Event publication (äº‹ä»¶å‘å¸ƒæœºåˆ¶)</li>
<li>Application-layer specific contexts such as the <code>WebApplicationContext</code> for use in web applications.</li>
</ul>
<h3 id="Beans"><a href="#Beans" class="headerlink" title="Beans"></a>Beans</h3><p>A bean is an object that is instantiated, assembled, and otherwise managed by a Spring IoC container.</p>
<p>Beans, and the dependencies among them, are reflected in the configuration metadata used by a container.</p>
<p>beanæ˜¯ç”±Spring IoCå®¹å™¨å®ä¾‹åŒ–ã€ç»„è£…å’Œç®¡ç†çš„å¯¹è±¡ã€‚</p>
<p>beanåŠå…¶ä¹‹é—´çš„ä¾èµ–å…³ç³»åæ˜ åœ¨å®¹å™¨ä½¿ç”¨çš„é…ç½®å…ƒæ•°æ®ä¸­ã€‚</p>
<h2 id="ğŸŒŸContainer-overview-ï¼ˆå®¹å™¨é¢„è§ˆï¼‰"><a href="#ğŸŒŸContainer-overview-ï¼ˆå®¹å™¨é¢„è§ˆï¼‰" class="headerlink" title="ğŸŒŸContainer overview ï¼ˆå®¹å™¨é¢„è§ˆï¼‰"></a>ğŸŒŸContainer overview ï¼ˆå®¹å™¨é¢„è§ˆï¼‰</h2><p>å…³é”®è¯: configuration metadataã€Instantiating</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g8fetrcx4vj30du088mxd.jpg" alt="container magic"></p>
<h3 id="configuration-metadata-é…ç½®å…ƒä¿¡æ¯"><a href="#configuration-metadata-é…ç½®å…ƒä¿¡æ¯" class="headerlink" title="configuration metadata (é…ç½®å…ƒä¿¡æ¯)"></a>configuration metadata (é…ç½®å…ƒä¿¡æ¯)</h3><p>The configuration metadata is represented in XML, Java annotations, or Java code. </p>
<p>annotations </p>
<ul>
<li>spring 2.5   annotation-based</li>
<li>spring 3.0   java-based  Starting with Spring 3.0, many features provided by the Spring JavaConfig project became part of the core Spring Framework. Thus, you can define beans external to your application classes by using Java rather than XML files. To use these new features, see the @Configuration, @Bean, @Import, and @DependsOn annotations.</li>
</ul>
<h3 id="Instantiating-a-Container-å®ä¾‹åŒ–å®¹å™¨"><a href="#Instantiating-a-Container-å®ä¾‹åŒ–å®¹å™¨" class="headerlink" title="Instantiating a Container (å®ä¾‹åŒ–å®¹å™¨)"></a>Instantiating a Container (å®ä¾‹åŒ–å®¹å™¨)</h3><!--The location path or paths supplied to an `ApplicationContext` constructor are resource strings that let the container load configuration metadata from a variety of external resources, such as the local file system, the Java `CLASSPATH`, and so on.-->
<p>æä¾›ç»™â€œApplicationContextâ€æ„é€ å‡½æ•°çš„ä½ç½®è·¯å¾„æ˜¯èµ„æºå­—ç¬¦ä¸²ï¼Œå®ƒå…è®¸å®¹å™¨ä»å„ç§å¤–éƒ¨èµ„æº(å¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€Javaâ€œCLASSPATHâ€ç­‰)åŠ è½½é…ç½®å…ƒæ•°æ®ã€‚</p>
<h3 id="Using-the-Container-ä½¿ç”¨å®¹å™¨"><a href="#Using-the-Container-ä½¿ç”¨å®¹å™¨" class="headerlink" title="Using the Container (ä½¿ç”¨å®¹å™¨)"></a>Using the Container (ä½¿ç”¨å®¹å™¨)</h3><pre><code class="java">// create and configure beans
ApplicationContext context = new ClassPathXmlApplicationContext(&quot;services.xml&quot;, &quot;daos.xml&quot;);

// retrieve configured instance
PetStoreService service = context.getBean(&quot;petStore&quot;, PetStoreService.class);

// use configured instance
List&lt;String&gt; userList = service.getUsernameList();
</code></pre>
<h2 id="ğŸŒŸBean-Overview-bean-é¢„è§ˆ"><a href="#ğŸŒŸBean-Overview-bean-é¢„è§ˆ" class="headerlink" title="ğŸŒŸBean Overview (bean é¢„è§ˆ)"></a>ğŸŒŸBean Overview (bean é¢„è§ˆ)</h2><p>beançš„ä¸€ä¸ªä»‹ç»</p>
<p>å…³é”®è¯: beanDefinitionã€instantiatingã€Naming  </p>
<h3 id="beanDefinition-beanå®šä¹‰"><a href="#beanDefinition-beanå®šä¹‰" class="headerlink" title="beanDefinition(beanå®šä¹‰)"></a>beanDefinition(beanå®šä¹‰)</h3><p>Within the container itself, these bean definitions are represented as <code>BeanDefinition</code> objects, which contain (among other information) the following metadata:</p>
<ul>
<li>A package-qualified class name: typically, the actual implementation class of the bean being defined.(åå­—)</li>
<li>Bean behavioral configuration elements, which state how the bean should behave in the container (scope, lifecycle callbacks, and so forth). (çŠ¶æ€ã€è¡Œä¸º)</li>
<li>References to other beans that are needed for the bean to do its work. These references are also called collaborators or dependencies. (ä¾èµ–å…³ç³»)</li>
<li>Other configuration settings to set in the newly created objectâ€‰â€”â€‰for example, the size limit of the pool or the number of connections to use in a bean that manages a connection pool.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Explained inâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Class</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-class" target="_blank" rel="noopener">Instantiating Beans</a></td>
</tr>
<tr>
<td style="text-align:left">Name</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-beanname" target="_blank" rel="noopener">Naming Beans</a></td>
</tr>
<tr>
<td style="text-align:left">Scope</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes" target="_blank" rel="noopener">Bean Scopes</a></td>
</tr>
<tr>
<td style="text-align:left">Constructor arguments</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-collaborators" target="_blank" rel="noopener">Dependency Injection</a></td>
</tr>
<tr>
<td style="text-align:left">Properties</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-collaborators" target="_blank" rel="noopener">Dependency Injection</a></td>
</tr>
<tr>
<td style="text-align:left">Autowiring mode</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-autowire" target="_blank" rel="noopener">Autowiring Collaborators</a></td>
</tr>
<tr>
<td style="text-align:left">Lazy initialization mode</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lazy-init" target="_blank" rel="noopener">Lazy-initialized Beans</a></td>
</tr>
<tr>
<td style="text-align:left">Initialization method</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-initializingbean" target="_blank" rel="noopener">Initialization Callbacks</a></td>
</tr>
<tr>
<td style="text-align:left">Destruction method</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-disposablebean" target="_blank" rel="noopener">Destruction Callbacks</a></td>
</tr>
</tbody>
</table>
<h3 id="naming-bean-beanå‘½å"><a href="#naming-bean-beanå‘½å" class="headerlink" title="naming  bean (beanå‘½å)"></a>naming  bean (beanå‘½å)</h3><h4 id="Aliasing-a-Bean-outside-the-Bean-Definition"><a href="#Aliasing-a-Bean-outside-the-Bean-Definition" class="headerlink" title="Aliasing a Bean outside the Bean Definition"></a>Aliasing a Bean outside the Bean Definition</h4><h3 id="Instantiating-bean-beanæ„é€ æ–¹å¼"><a href="#Instantiating-bean-beanæ„é€ æ–¹å¼" class="headerlink" title="Instantiating bean (beanæ„é€ æ–¹å¼)"></a>Instantiating bean (beanæ„é€ æ–¹å¼)</h3><p>You can use the <code>Class</code> property in one of two ways:</p>
<ul>
<li>Typically, to specify the bean class to be constructed in the case where the container itself directly creates the bean by calling its constructor reflectively, somewhat equivalent to Java code with the <code>new</code> operator.</li>
<li>To specify the actual class containing the <code>static</code> factory method that is invoked to create the object, in the less common case where the container invokes a <code>static</code> factory method on a class to create the bean. The object type returned from the invocation of the <code>static</code> factory method may be the same class or another class entirely.</li>
</ul>
<h4 id="Instantiation-with-a-Constructor"><a href="#Instantiation-with-a-Constructor" class="headerlink" title="Instantiation with a Constructor"></a>Instantiation with a Constructor</h4><!--The Spring IoC container can manage virtually any class you want it to manage. It is not limited to managing true JavaBeans.-->
 <!--Most Spring users prefer actual JavaBeans with only a default (no-argument) constructor and appropriate setters and getters modeled after the properties in the container.--> 
<!--You can also have more exotic non-bean-style classes in your container. If, for example, you need to use a legacy connection pool that absolutely does not adhere to the JavaBean specification, Spring can manage it as well.-->
<p>Spring IoCå®¹å™¨å‡ ä¹å¯ä»¥ç®¡ç†æ‚¨å¸Œæœ›å®ƒç®¡ç†çš„ä»»ä½•ç±»ã€‚å®ƒä¸ä»…é™äºç®¡ç†çœŸæ­£çš„javabeanã€‚</p>
<p>å¤§å¤šæ•°Springç”¨æˆ·æ›´å–œæ¬¢å®é™…çš„javabeanï¼Œå®ƒåªæœ‰ä¸€ä¸ªé»˜è®¤çš„(æ— å‚æ•°çš„)æ„é€ å‡½æ•°ï¼Œä»¥åŠæ ¹æ®å®¹å™¨ä¸­çš„å±æ€§å»ºæ¨¡çš„é€‚å½“çš„setterå’Œgetteræ–¹æ³•ã€‚</p>
<p>æ‚¨è¿˜å¯ä»¥åœ¨å®¹å™¨ä¸­åŒ…å«æ›´å¤šébeané£æ ¼çš„ç±»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨éœ€è¦ä½¿ç”¨å®Œå…¨ä¸ç¬¦åˆJavaBeanè§„èŒƒçš„é—ç•™è¿æ¥æ± ï¼ŒSpringä¹Ÿå¯ä»¥ç®¡ç†å®ƒã€‚</p>
<h4 id="Instantiation-with-a-Static-Factory-Method"><a href="#Instantiation-with-a-Static-Factory-Method" class="headerlink" title="Instantiation with a Static Factory Method"></a>Instantiation with a Static Factory Method</h4><!--One use for such a bean definition is to call `static` factories in legacy code.-->
<p>è¿™ç§beanå®šä¹‰çš„ä¸€ä¸ªç”¨é€”æ˜¯åœ¨é—ç•™ä»£ç ä¸­è°ƒç”¨â€œé™æ€â€å·¥å‚ã€‚</p>
<h4 id="Instantiation-by-Using-an-Instance-Factory-Method"><a href="#Instantiation-by-Using-an-Instance-Factory-Method" class="headerlink" title="Instantiation by Using an Instance Factory Method"></a>Instantiation by Using an Instance Factory Method</h4><!--Similar to instantiation through a [static factory method](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-class-static-factory-method), instantiation with an instance factory method invokes a non-static method of an existing bean from the container to create a new bean.--> 
<p>ä¸é€šè¿‡é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–ç±»ä¼¼ï¼Œä½¿ç”¨å®ä¾‹å·¥å‚æ–¹æ³•å®ä¾‹åŒ–å°†ä»å®¹å™¨ä¸­è°ƒç”¨ç°æœ‰beançš„éé™æ€æ–¹æ³•æ¥åˆ›å»ºæ–°beanã€‚</p>
<blockquote>
<p>In Spring documentation, â€œfactory beanâ€ refers to a bean that is configured in the Spring container and that creates objects through an <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-class-instance-factory-method" target="_blank" rel="noopener">instance</a> or <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-class-static-factory-method" target="_blank" rel="noopener">static</a> factory method. By contrast, <code>FactoryBean</code> (notice the capitalization) refers to a Spring-specific <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-extension-factorybean" target="_blank" rel="noopener"><code>FactoryBean</code></a>.</p>
</blockquote>
<p>åœ¨Springæ–‡æ¡£ä¸­ï¼Œâ€œå·¥å‚beanâ€æŒ‡çš„æ˜¯åœ¨Springå®¹å™¨ä¸­é…ç½®çš„beanï¼Œå®ƒé€šè¿‡å®ä¾‹æˆ–é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚ç›¸åï¼ŒFactoryBean(æ³¨æ„å¤§å°å†™)æŒ‡çš„æ˜¯ç‰¹å®šäºspringçš„FactoryBeanã€‚</p>
<h2 id="ğŸŒŸDependencies-ä¾èµ–"><a href="#ğŸŒŸDependencies-ä¾èµ–" class="headerlink" title="ğŸŒŸDependencies (ä¾èµ–)"></a>ğŸŒŸDependencies (ä¾èµ–)</h2><p>æ›´å¤šæè¿°çš„æ˜¯beanä¹‹é—´çš„å…³ç³»</p>
<p>å…³é”®è¯: IOCã€DIã€collaborate(åä½œè€…)ã€ construct-b(type index name)ã€ setter-b ã€è§£æè¿‡ç¨‹ã€å¾ªç¯ä¾èµ–ã€æå‰å®ä¾‹ã€è‡ªåŠ¨è£…é…ã€æ–¹æ³•æ³¨å…¥</p>
<!--A typical enterprise application does not consist of a single object (or bean in the Spring parlance). Even the simplest application has a few objects that work together to present what the end-user sees as a coherent application.--> 
<!--This next section explains how you go from defining a number of bean definitions that stand alone to a fully realized application where objects collaborate to achieve a goal.-->
<p>å…¸å‹çš„ä¼ä¸šåº”ç”¨ç¨‹åºä¸åŒ…å«å•ä¸ªå¯¹è±¡(æˆ–Springä¸­çš„bean)ã€‚å³ä½¿æ˜¯æœ€ç®€å•çš„åº”ç”¨ç¨‹åºä¹Ÿæœ‰å‡ ä¸ªå¯¹è±¡ä¸€èµ·å·¥ä½œï¼Œä»¥å‘ˆç°æœ€ç»ˆç”¨æˆ·æ‰€çœ‹åˆ°çš„ä¸€è‡´çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>ä¸‹ä¸€èŠ‚å°†è§£é‡Šå¦‚ä½•ä»å®šä¹‰è®¸å¤šç‹¬ç«‹çš„beanå®šä¹‰è¿‡æ¸¡åˆ°ä¸€ä¸ªå®Œå…¨å®ç°çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å¯¹è±¡é€šè¿‡åä½œå®ç°ç›®æ ‡ã€‚</p>
<h3 id="Dependency-Injection-DI"><a href="#Dependency-Injection-DI" class="headerlink" title="Dependency Injection(DI)"></a>Dependency Injection(DI)</h3><!--Code is cleaner with the DI principle, and decoupling is more effective when objects are provided with their dependencies. The object does not look up its dependencies and does not know the location or class of the dependencies.-->
<!--DI exists in two major variants: Constructor-based dependency and Setter-based dependency injection. -->
<p>ä½¿ç”¨DIåŸåˆ™ï¼Œä»£ç æ›´ç®€æ´ï¼Œå¹¶ä¸”å½“å¯¹è±¡æä¾›å…¶ä¾èµ–é¡¹æ—¶ï¼Œè§£è€¦æ›´æœ‰æ•ˆã€‚å¯¹è±¡ä¸æŸ¥æ‰¾å…¶ä¾èµ–é¡¹ï¼Œä¹Ÿä¸çŸ¥é“ä¾èµ–é¡¹çš„ä½ç½®æˆ–ç±»ã€‚</p>
<h4 id="Constructor-based-Dependency-Injection-æ„é€ æ³¨å…¥"><a href="#Constructor-based-Dependency-Injection-æ„é€ æ³¨å…¥" class="headerlink" title="Constructor-based Dependency Injection(æ„é€ æ³¨å…¥)"></a>Constructor-based Dependency Injection(æ„é€ æ³¨å…¥)</h4><ul>
<li>Constructor argument type matching</li>
<li>Constructor argument index</li>
<li>Constructor argument name</li>
</ul>
<h4 id="Setter-based-Dependency-Injection-Setteræ³¨å…¥"><a href="#Setter-based-Dependency-Injection-Setteræ³¨å…¥" class="headerlink" title="Setter-based Dependency Injection(Setteræ³¨å…¥)"></a>Setter-based Dependency Injection(Setteræ³¨å…¥)</h4><!--Setter-based DI is accomplished by the container calling setter methods on your beans after invoking a no-argument constructor or a no-argument `static` factory method to instantiate your bean.-->
 <!--You configure the dependencies in the form of a `BeanDefinition`, which you use in conjunction with `PropertyEditor` instances to convert properties from one format to another.--> 
<!--However, most Spring users do not work with these classes directly (that is, programmatically) but rather with XML `bean` definitions, annotated components (that is, classes annotated with `@Component`, `@Controller`, and so forth), or `@Bean` methods in Java-based `@Configuration` classes.--> 
<!--These sources are then converted internally into instances of `BeanDefinition` and used to load an entire Spring IoC container instance.-->
<p>åŸºäºsetterçš„DIæ˜¯åœ¨è°ƒç”¨æ— å‚æ•°æ„é€ å‡½æ•°æˆ–æ— å‚æ•°â€œé™æ€â€å·¥å‚æ–¹æ³•æ¥å®ä¾‹åŒ–beanä¹‹åï¼Œé€šè¿‡å®¹å™¨è°ƒç”¨beanä¸Šçš„setteræ–¹æ³•æ¥å®Œæˆçš„ã€‚</p>
<p>æ‚¨å¯ä»¥å°†ä¾èµ–é¡¹é…ç½®ä¸ºâ€œBeanDefinitionâ€çš„å½¢å¼ï¼Œå¹¶å°†å…¶ä¸â€œPropertyEditorâ€å®ä¾‹ç»“åˆä½¿ç”¨ï¼Œå°†å±æ€§ä»ä¸€ç§æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§æ ¼å¼ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¤§å¤šæ•°Springç”¨æˆ·å¹¶ä¸ç›´æ¥ä½¿ç”¨è¿™äº›ç±»(ä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥ç¼–ç¨‹çš„æ–¹å¼)ï¼Œè€Œæ˜¯ä½¿ç”¨XML â€˜ bean â€˜å®šä¹‰ã€å¸¦æ³¨é‡Šçš„ç»„ä»¶(ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨â€™ @Component â€˜ã€â€™ @Controller â€˜ç­‰æ³¨é‡Šçš„ç±»)æˆ–åŸºäºjavaçš„â€™ @Configuration â€˜ç±»ä¸­çš„â€™ @Bean â€˜æ–¹æ³•ã€‚</p>
<p>ç„¶åï¼Œè¿™äº›æºåœ¨å†…éƒ¨è½¬æ¢ä¸ºâ€œBeanDefinitionâ€å®ä¾‹ï¼Œå¹¶ç”¨äºåŠ è½½æ•´ä¸ªSpring IoCå®¹å™¨å®ä¾‹ã€‚</p>
<p><strong>Constructor-based or setter-based DI?</strong></p>
<blockquote>
<p>Since you can mix constructor-based and setter-based DI, it is a good rule of thumb to use constructors for mandatory dependencies and setter methods or configuration methods for optional dependencies. Note that use of the <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-required-annotation" target="_blank" rel="noopener">@Required</a> annotation on a setter method can be used to make the property be a required dependency; however, constructor injection with programmatic validation of arguments is preferable.</p>
<p>The Spring team generally advocates constructor injection, as it lets you implement application components as immutable objects and ensures that required dependencies are not <code>null</code>. Furthermore, constructor-injected components are always returned to the client (calling) code in a fully initialized state. As a side note, a large number of constructor arguments is a bad code smell, implying that the class likely has too many responsibilities and should be refactored to better address proper separation of concerns.</p>
<p>Setter injection should primarily only be used for optional dependencies that can be assigned reasonable default values within the class. Otherwise, not-null checks must be performed everywhere the code uses the dependency. One benefit of setter injection is that setter methods make objects of that class amenable to reconfiguration or re-injection later. Management through <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html#jmx" target="_blank" rel="noopener">JMX MBeans</a> is therefore a compelling use case for setter injection.</p>
</blockquote>
<h4 id="Dependency-Resolution-Process-ä¾èµ–è§£æè¿‡ç¨‹"><a href="#Dependency-Resolution-Process-ä¾èµ–è§£æè¿‡ç¨‹" class="headerlink" title="Dependency Resolution Process (ä¾èµ–è§£æè¿‡ç¨‹)"></a>Dependency Resolution Process (ä¾èµ–è§£æè¿‡ç¨‹)</h4><p>ApplicationContext(configuration metadata)  -&gt; æ³¨å…¥æ–¹å¼ -&gt; æ³¨å…¥valueåˆå§‹åŒ– -&gt; value-type</p>
<p>The container performs bean dependency resolution as follows:</p>
<ul>
<li>The <code>ApplicationContext</code> is created and initialized with configuration metadata that describes all the beans. Configuration metadata can be specified by XML, Java code, or annotations.(é…ç½®å…ƒä¿¡æ¯)</li>
<li>For each bean, its dependencies are expressed in the form of properties, constructor arguments, or arguments to the static-factory method (if you use that instead of a normal constructor). These dependencies are provided to the bean, when the bean is actually created. (æ³¨å…¥æ–¹å¼)</li>
<li>Each property or constructor argument is an actual definition of the value to set, or a reference to another bean in the container.(value)</li>
<li>Each property or constructor argument that is a value is converted from its specified format to the actual type of that property or constructor argument. By default, Spring can convert a value supplied in string format to all built-in types, such as <code>int</code>, <code>long</code>, <code>String</code>, <code>boolean</code>, and so forth.(value-type)</li>
</ul>
<h5 id="Circular-dependencies-å¾ªç¯ä¾èµ–é—®é¢˜"><a href="#Circular-dependencies-å¾ªç¯ä¾èµ–é—®é¢˜" class="headerlink" title="Circular dependencies (å¾ªç¯ä¾èµ–é—®é¢˜)"></a>Circular dependencies (å¾ªç¯ä¾èµ–é—®é¢˜)</h5><blockquote>
<p>If you use predominantly constructor injection, it is possible to create an unresolvable circular dependency scenario.</p>
<p>For example: Class A requires an instance of class B through constructor injection, and class B requires an instance of class A through constructor injection. </p>
<p>If you configure beans for classes A and B to be injected into each other, the Spring IoC container detects this circular reference at runtime, and throws a <code>BeanCurrentlyInCreationException</code>.</p>
<p>One possible solution is to edit the source code of some classes to be configured by setters rather than constructors. Alternatively, avoid constructor injection and use setter injection only. </p>
<p>In other words, although it is not recommended, you can configure circular dependencies with setter injection.</p>
</blockquote>
<p>å¦‚æœä¸»è¦ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥ï¼Œå¯èƒ½ä¼šåˆ›å»ºæ— æ³•è§£æçš„å¾ªç¯ä¾èµ–åœºæ™¯ã€‚</p>
<p>ä¾‹å¦‚:ç±»Aéœ€è¦ä¸€ä¸ªç±»Bé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥çš„å®ä¾‹ï¼Œè€Œç±»Béœ€è¦ä¸€ä¸ªç±»Aé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥çš„å®ä¾‹ã€‚</p>
<p>å¦‚æœæ‚¨å°†beané…ç½®ä¸ºç±»Aå’ŒBç›¸äº’æ³¨å…¥ï¼ŒSpring IoCå®¹å™¨ä¼šåœ¨è¿è¡Œæ—¶æ£€æµ‹åˆ°è¿™ä¸ªå¾ªç¯å¼•ç”¨ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªâ€œBeanCurrentlyInCreationExceptionâ€ã€‚</p>
<p>ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯ç¼–è¾‘æŸäº›ç±»çš„æºä»£ç ï¼Œç”±setterè€Œä¸æ˜¯æ„é€ å‡½æ•°æ¥é…ç½®ã€‚å¦å¤–ï¼Œé¿å…æ„é€ å‡½æ•°æ³¨å…¥ï¼Œåªä½¿ç”¨setteræ³¨å…¥ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå°½ç®¡ä¸å»ºè®®è¿™æ ·åšï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨setteræ³¨å…¥é…ç½®å¾ªç¯ä¾èµ–é¡¹ã€‚</p>
<h5 id="pre-instantiate-é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯"><a href="#pre-instantiate-é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯" class="headerlink" title="pre-instantiate (é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯)"></a>pre-instantiate (é¢„å®ä¾‹åŒ–å¯ä»¥ææ—©å‘ç°é”™è¯¯)</h5><!--This potentially delayed visibility of some configuration issues is why `ApplicationContext` implementations by default pre-instantiate singleton beans.--> 
<!--At the cost of some upfront time and memory to create these beans before they are actually needed, you discover configuration issues when the `ApplicationContext` is created, not later-->
<p>è¿™å¯èƒ½ä¼šå»¶è¿ŸæŸäº›é…ç½®é—®é¢˜çš„å¯è§æ€§ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆé»˜è®¤æƒ…å†µä¸‹ApplicationContextå®ç°ä¼šé¢„å…ˆå®ä¾‹åŒ–å•ä¾‹beançš„åŸå› ã€‚</p>
<p>åœ¨å®é™…éœ€è¦ä½¿ç”¨è¿™äº›beanä¹‹å‰è¦èŠ±ä¸€äº›å‰æœŸæ—¶é—´å’Œå†…å­˜ï¼Œæ‚¨ä¼šåœ¨åˆ›å»ºApplicationContextæ—¶å‘ç°é…ç½®é—®é¢˜ï¼Œè€Œä¸æ˜¯ç¨åã€‚</p>
<h5 id="collaborating-è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹"><a href="#collaborating-è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹" class="headerlink" title="collaborating (è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹)"></a>collaborating (è¢«è£…è½½çš„æ˜¯å®Œæ•´å®ä¾‹)</h5><!--If no circular dependencies exist, when one or more collaborating beans are being injected into a dependent bean, each collaborating bean is totally configured prior to being injected into the dependent bean.-->
 <!--This means that, if bean A has a dependency on bean B, the Spring IoC container completely configures bean B prior to invoking the setter method on bean A.--> 
<!--In other words, the bean is instantiated (if it is not a pre-instantiated singleton), its dependencies are set, and the relevant lifecycle methods (such as a [configured init method](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-initializingbean) or the [InitializingBean callback method](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-initializingbean)) are invoked.-->
<p>å¦‚æœä¸å­˜åœ¨å¾ªç¯ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆå½“ä¸€ä¸ªæˆ–å¤šä¸ªåä½œbeanè¢«æ³¨å…¥ä¸€ä¸ªä¾èµ–beanæ—¶ï¼Œæ¯ä¸ªåä½œbeanåœ¨è¢«æ³¨å…¥ä¾èµ–beanä¹‹å‰éƒ½è¦å®Œå…¨é…ç½®å¥½ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå¦‚æœbean Aä¾èµ–äºbean Bï¼Œé‚£ä¹ˆSpring IoCå®¹å™¨å°†åœ¨è°ƒç”¨bean Açš„setteræ–¹æ³•ä¹‹å‰å®Œå…¨é…ç½®bean Bã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œbeanè¢«å®ä¾‹åŒ–(å¦‚æœå®ƒä¸æ˜¯ä¸€ä¸ªé¢„å®ä¾‹åŒ–çš„å•ä¾‹å¯¹è±¡)ï¼Œå®ƒçš„ä¾èµ–é¡¹è¢«è®¾ç½®ï¼Œç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•(ä¾‹å¦‚é…ç½®çš„initæ–¹æ³•æˆ–InitializingBeanå›è°ƒæ–¹æ³•)è¢«è°ƒç”¨ã€‚</p>
<h4 id="Examples-of-Dependency-Injection"><a href="#Examples-of-Dependency-Injection" class="headerlink" title="Examples of Dependency Injection"></a><del>Examples of Dependency Injection</del></h4><h3 id="Dependencies-and-Configuration-in-Detail"><a href="#Dependencies-and-Configuration-in-Detail" class="headerlink" title="Dependencies and Configuration in Detail"></a><del>Dependencies and Configuration in Detail</del></h3><h3 id="Using-depends-on-ä½¿ç”¨-depends-on"><a href="#Using-depends-on-ä½¿ç”¨-depends-on" class="headerlink" title="Using depends-on (ä½¿ç”¨ depends-on)"></a>Using depends-on (ä½¿ç”¨ depends-on)</h3><!--The depends-on attribute can specify both an initialization-time dependency and, in the case of singleton beans only, a corresponding destruction-time dependency. Dependent beans that define a depends-on relationship with a given bean are destroyed first, prior to the given bean itself being destroyed. Thus, depends-on can also control shutdown order.-->
<p>èƒ½æ§åˆ¶åŠ è½½é¡ºåº</p>
<h3 id="Lazy-initialized-Beans-æ‡’åŠ è½½"><a href="#Lazy-initialized-Beans-æ‡’åŠ è½½" class="headerlink" title="Lazy-initialized Beans (æ‡’åŠ è½½)"></a>Lazy-initialized Beans (æ‡’åŠ è½½)</h3><!--By default, `ApplicationContext` implementations eagerly create and configure all singleton beans as part of the initialization process.--> 
<!--Generally, this pre-instantiation is desirable, because errors in the configuration or surrounding environment are discovered immediately, as opposed to hours or even days later.--> 
<!--When this behavior is not desirable, you can prevent pre-instantiation of a singleton bean by marking the bean definition as being lazy-initialized. A lazy-initialized bean tells the IoC container to create a bean instance when it is first requested, rather than at startup.-->
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œâ€œApplicationContextâ€å®ç°ä¼šåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­åˆ›å»ºå¹¶é…ç½®æ‰€æœ‰çš„å•ä¾‹beanã€‚</p>
<p>é€šå¸¸ï¼Œè¿™ç§é¢„å®ä¾‹åŒ–æ˜¯å¯å–çš„ï¼Œå› ä¸ºé…ç½®æˆ–å‘¨å›´ç¯å¢ƒä¸­çš„é”™è¯¯ä¼šç«‹å³è¢«å‘ç°ï¼Œè€Œä¸æ˜¯å‡ å°æ—¶ç”šè‡³å‡ å¤©ä¹‹åã€‚</p>
<p>å½“æ­¤è¡Œä¸ºä¸å¯å–æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†beanå®šä¹‰æ ‡è®°ä¸ºå»¶è¿Ÿåˆå§‹åŒ–æ¥é˜²æ­¢å•ä¾‹beançš„é¢„å®ä¾‹åŒ–ã€‚å»¶è¿Ÿåˆå§‹åŒ–çš„beanå‘Šè¯‰IoCå®¹å™¨åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶åˆ›å»ºbeanå®ä¾‹ï¼Œè€Œä¸æ˜¯åœ¨å¯åŠ¨æ—¶ã€‚</p>
<!--However, when a lazy-initialized bean is a dependency of a singleton bean that is not lazy-initialized, the `ApplicationContext` creates the lazy-initialized bean at startup, because it must satisfy the singletonâ€™s dependencies. The lazy-initialized bean is injected into a singleton bean elsewhere that is not lazy-initialized.-->
<!--You can also control lazy-initialization at the container level by using the `default-lazy-init` attribute on the `<beans/>` element-->
<p>ä½†æ˜¯ï¼Œå¦‚æœå»¶è¿Ÿåˆå§‹åŒ–çš„beanæ˜¯æœªå»¶è¿Ÿåˆå§‹åŒ–çš„å•ä¾‹beançš„ä¾èµ–é¡¹ï¼Œåˆ™ApplicationContextä¼šåœ¨å¯åŠ¨æ—¶åˆ›å»ºå»¶è¿Ÿåˆå§‹åŒ–çš„beanï¼Œå› ä¸ºå®ƒå¿…é¡»æ»¡è¶³å•ä¾‹çš„ä¾èµ–é¡¹ã€‚å»¶è¿Ÿåˆå§‹åŒ–çš„beanè¢«æ³¨å…¥åˆ°å…¶ä»–æœªå»¶è¿Ÿåˆå§‹åŒ–çš„å•ä¾‹beanä¸­ã€‚</p>
<p>å¦å¤–è¿˜å¯ä»¥å®¹å™¨çº§åˆ«çš„é…ç½®æ‡’åŠ è½½</p>
<p>æ³¨:ä½¿ç”¨@Lazy , åœ¨éœ€è¦æ³¨å…¥åˆ°å…¶ä»–not lazyçš„beançš„æ—¶å€™ ä½¿ç”¨@Autowireçš„è¯ åœ¨ä¸Šé¢æ ‡æ³¨@Lazy ä¼šå»¶è¿Ÿåˆå§‹åŒ–</p>
<pre><code class="java">@Lazy
@Component
class LazyBean{
   @PostConstruct
           public void init(){
               System.out.prinlt(&quot;init...&quot;);
           }
}
@Component
class NotLazyBean{
       @Lazy
       @Autowise
               LazyBean lazyBean;
}
</code></pre>
<p>ä¼šåœ¨å®é™…ä½¿ç”¨lazyBeançš„æ—¶å€™æ‰å®ä¾‹</p>
<h3 id="Autowiring-Collaborators-è‡ªåŠ¨è£…é…"><a href="#Autowiring-Collaborators-è‡ªåŠ¨è£…é…" class="headerlink" title="Autowiring Collaborators(è‡ªåŠ¨è£…é…)"></a>Autowiring Collaborators(è‡ªåŠ¨è£…é…)</h3><p> Autowiring has the following advantages:</p>
<ul>
<li>Autowiring can significantly reduce the need to specify properties or constructor arguments. (Other mechanisms such as a bean template <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-child-bean-definitions" target="_blank" rel="noopener">discussed elsewhere in this chapter</a> are also valuable in this regard.)</li>
<li>Autowiring can update a configuration as your objects evolve. For example, if you need to add a dependency to a class, that dependency can be satisfied automatically without you needing to modify the configuration. Thus autowiring can be especially useful during development, without negating the option of switching to explicit wiring when the code base becomes more stable.</li>
</ul>
<p>è¯‘:</p>
<ul>
<li>è‡ªåŠ¨è£…é…å¯ä»¥å¤§å¤§å‡å°‘æŒ‡å®šå±æ€§æˆ–æ„é€ å‡½æ•°å‚æ•°çš„éœ€è¦ã€‚(å…¶ä»–æœºåˆ¶ï¼Œå¦‚beanæ¨¡æ¿<a href="https://docs.spring.io/spring-framework/docs/current/spring-framereference/core.html #beans-child-bean-definitions" target="_blank" rel="noopener">åœ¨æœ¬ç« å…¶ä»–åœ°æ–¹è®¨è®ºè¿‡</a>åœ¨è¿™æ–¹é¢ä¹Ÿå¾ˆæœ‰ä»·å€¼ã€‚)</li>
<li>è‡ªåŠ¨è£…é…å¯ä»¥éšç€å¯¹è±¡çš„æ¼”åŒ–æ›´æ–°é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å‘ç±»æ·»åŠ ä¾èµ–é¡¹ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨æ»¡è¶³è¯¥ä¾èµ–é¡¹ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹é…ç½®ã€‚å› æ­¤ï¼Œè‡ªåŠ¨è£…é…åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå½“ä»£ç åº“å˜å¾—æ›´åŠ ç¨³å®šæ—¶ï¼Œè‡ªåŠ¨è£…é…å¯ä»¥é¿å…åˆ‡æ¢åˆ°æ˜¾å¼è¿æ¥çš„é€‰é¡¹ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Mode</th>
<th style="text-align:left">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>no</code></td>
<td style="text-align:left">(Default) No autowiring. Bean references must be defined by <code>ref</code> elements. Changing the default setting is not recommended for larger deployments, because specifying collaborators explicitly gives greater control and clarity. To some extent, it documents the structure of a system.</td>
</tr>
<tr>
<td style="text-align:left"><code>byName</code></td>
<td style="text-align:left">Autowiring by property name. Spring looks for a bean with the same name as the property that needs to be autowired. For example, if a bean definition is set to autowire by name and it contains a <code>master</code> property (that is, it has a <code>setMaster(..)</code> method), Spring looks for a bean definition named <code>master</code> and uses it to set the property.</td>
</tr>
<tr>
<td style="text-align:left"><code>byType</code></td>
<td style="text-align:left">Lets a property be autowired if exactly one bean of the property type exists in the container. If more than one exists, a fatal exception is thrown, which indicates that you may not use <code>byType</code> autowiring for that bean. If there are no matching beans, nothing happens (the property is not set).</td>
</tr>
<tr>
<td style="text-align:left"><code>constructor</code></td>
<td style="text-align:left">Analogous to <code>byType</code> but applies to constructor arguments. If there is not exactly one bean of the constructor argument type in the container, a fatal error is raised.</td>
</tr>
</tbody>
</table>
<h4 id="Limitations-and-Disadvantages-of-Autowiring-è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹"><a href="#Limitations-and-Disadvantages-of-Autowiring-è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹" class="headerlink" title="Limitations and Disadvantages of Autowiring (è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹)"></a>Limitations and Disadvantages of Autowiring (è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹)</h4><p>Consider the limitations and disadvantages of autowiring:</p>
<ul>
<li>Explicit dependencies in <code>property</code> and <code>constructor-arg</code> settings always override autowiring. You cannot autowire simple properties such as primitives, <code>Strings</code>, and <code>Classes</code> (and arrays of such simple properties). This limitation is by-design.</li>
<li>Autowiring is less exact than explicit wiring. Although, as noted in the earlier table, Spring is careful to avoid guessing in case of ambiguity that might have unexpected results. The relationships between your Spring-managed objects are no longer documented explicitly.</li>
<li>Wiring information may not be available to tools that may generate documentation from a Spring container.</li>
<li>Multiple bean definitions within the container may match the type specified by the setter method or constructor argument to be autowired. For arrays, collections, or <code>Map</code> instances, this is not necessarily a problem. However, for dependencies that expect a single value, this ambiguity is not arbitrarily resolved. If no unique bean definition is available, an exception is thrown.</li>
</ul>
<p>In the latter scenario, you have several options:</p>
<ul>
<li>Abandon autowiring in favor of explicit wiring.</li>
<li>Avoid autowiring for a bean definition by setting its <code>autowire-candidate</code> attributes to <code>false</code>, as described in the <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-autowire-candidate" target="_blank" rel="noopener">next section</a>.</li>
<li>Designate a single bean definition as the primary candidate by setting the <code>primary</code> attribute of its <code>&lt;bean/&gt;</code> element to <code>true</code>.</li>
<li>Implement the more fine-grained control available with annotation-based configuration, as described in <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-annotation-config" target="_blank" rel="noopener">Annotation-based Container Configuration</a>.</li>
</ul>
<p>ä½¿ç”¨è‡ªåŠ¨è£…é… ,å¯èƒ½ä¸é‚£ä¹ˆç²¾ç¡®, ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜</p>
<h4 id="Excluding-a-Bean-from-Autowiring-ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean"><a href="#Excluding-a-Bean-from-Autowiring-ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean" class="headerlink" title="Excluding a Bean from Autowiring(ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean)"></a>Excluding a Bean from Autowiring(ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤Bean)</h4><!--On a per-bean basis, you can exclude a bean from autowiring. In Springâ€™s XML format, set the `autowire-candidate` attribute of the `<bean/>` element to `false`. The container makes that specific bean definition unavailable to the autowiring infrastructure (including annotation style configurations such as [`@Autowired`](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-autowired-annotation)).-->
<p>åœ¨æ¯ä¸ªbeançš„åŸºç¡€ä¸Šï¼Œå¯ä»¥å°†beanæ’é™¤åœ¨è‡ªåŠ¨è£…é…ä¹‹å¤–ã€‚åœ¨Springçš„XMLæ ¼å¼ä¸­ï¼Œå°†â€œâ€å…ƒç´ çš„â€œautowire-candidateâ€å±æ€§è®¾ç½®ä¸ºâ€œfalseâ€ã€‚å®¹å™¨ä½¿ç‰¹å®šçš„beanå®šä¹‰å¯¹è‡ªåŠ¨è£…é…åŸºç¡€è®¾æ–½ä¸å¯ç”¨(åŒ…æ‹¬æ³¨é‡Šæ ·å¼é…ç½®ï¼Œå¦‚<a href="https://docs.spring.io/spring-framework/docs/current/spring-framereference/core.html #beans-autowired-annotation" target="_blank" rel="noopener">â€˜ @Autowired â€˜</a>)ã€‚</p>
<h3 id="Method-Injection-æ–¹æ³•æ³¨å…¥"><a href="#Method-Injection-æ–¹æ³•æ³¨å…¥" class="headerlink" title="Method Injection (æ–¹æ³•æ³¨å…¥)"></a>Method Injection (æ–¹æ³•æ³¨å…¥)</h3><!--Suppose singleton bean A needs to use non-singleton (prototype) bean B, perhaps on each method invocation on A. The container creates the singleton bean A only once, and thus only gets one opportunity to set the properties.--> 
<!--A solution is to forego some inversion of control. You can make bean A aware of the container by implementing the ApplicationContextAware interface, and by making a getBean("B") call to the container ask for (a typically new) bean B instance every time bean A needs it.-->
<p>å‡è®¾å•ä¾‹bean Aéœ€è¦ä½¿ç”¨éå•ä¾‹(åŸå‹)bean Bï¼Œå¯èƒ½æ˜¯åœ¨Açš„æ¯ä¸ªæ–¹æ³•è°ƒç”¨ä¸Šã€‚å®¹å™¨åªåˆ›å»ºä¸€æ¬¡å•ä¾‹bean Aï¼Œå› æ­¤åªæœ‰ä¸€æ¬¡æœºä¼šæ¥è®¾ç½®å±æ€§ã€‚</p>
<p>è§£å†³çš„åŠæ³•æ˜¯æ”¾å¼ƒä¸€äº›æ§åˆ¶åè½¬ã€‚æ‚¨å¯ä»¥é€šè¿‡å®ç°applicationcontext - wareæ¥å£ï¼Œå¹¶åœ¨æ¯æ¬¡bean Aéœ€è¦æ—¶è°ƒç”¨å®¹å™¨çš„getBean(â€œBâ€)æ¥è¯·æ±‚(é€šå¸¸æ˜¯ä¸€ä¸ªæ–°çš„)bean Bå®ä¾‹ï¼Œä»è€Œä½¿bean AçŸ¥é“å®¹å™¨ã€‚</p>
<h4 id="Lookup-Method-Injection"><a href="#Lookup-Method-Injection" class="headerlink" title="Lookup Method Injection"></a>Lookup Method Injection</h4><!--Lookup method injection is the ability of the container to override methods on container-managed beans and return the lookup result for another named bean in the container.--> 
<!--The Spring Framework implements this method injection by using bytecode generation from the CGLIB library to dynamically generate a subclass that overrides the method.-->
<p>æŸ¥æ‰¾æ–¹æ³•æ³¨å…¥æ˜¯å®¹å™¨è¦†ç›–å®¹å™¨ç®¡ç†beanä¸Šçš„æ–¹æ³• å¹¶è¿”å›å®¹å™¨ä¸­å¦ä¸€ä¸ªå‘½åbeançš„æŸ¥æ‰¾ç»“æœçš„èƒ½åŠ›ã€‚</p>
<p>Springæ¡†æ¶é€šè¿‡ä½¿ç”¨æ¥è‡ªCGLIBåº“çš„å­—èŠ‚ç ç”Ÿæˆæ¥åŠ¨æ€ç”Ÿæˆè¦†ç›–è¯¥æ–¹æ³•çš„å­ç±»ï¼Œä»è€Œå®ç°äº†è¿™ç§æ–¹æ³•æ³¨å…¥ã€‚</p>
<p>ex</p>
<h4 id="Arbitrary-ä»»æ„çš„-Method-Replacement"><a href="#Arbitrary-ä»»æ„çš„-Method-Replacement" class="headerlink" title="Arbitrary (ä»»æ„çš„)Method Replacement"></a><del>Arbitrary (ä»»æ„çš„)Method Replacement</del></h4><!--A less useful form of method injection than lookup method injection is the ability to replace arbitrary methods in a managed bean with another method implementation.--> 
<p>ä¸æŸ¥æ‰¾æ–¹æ³•æ³¨å…¥ç›¸æ¯”ï¼Œä¸€ç§ä¸å¤ªæœ‰ç”¨çš„æ–¹æ³•æ³¨å…¥å½¢å¼æ˜¯èƒ½å¤Ÿç”¨å¦ä¸€ç§æ–¹æ³•å®ç°æ›¿æ¢æ‰˜ç®¡beanä¸­çš„ä»»æ„æ–¹æ³•ã€‚</p>
<h2 id="ğŸŒŸBean-Scopes-ï¼ˆä½œç”¨åŸŸï¼‰"><a href="#ğŸŒŸBean-Scopes-ï¼ˆä½œç”¨åŸŸï¼‰" class="headerlink" title="ğŸŒŸBean Scopes  ï¼ˆä½œç”¨åŸŸï¼‰"></a>ğŸŒŸBean Scopes  ï¼ˆä½œç”¨åŸŸï¼‰</h2><p>å…³é”®è¯: singletonã€prototypeã€requestã€sessionã€applicationã€websocket ã€cglib public</p>
<!--You can control not only the various dependencies and configuration values that are to be plugged into an object that is created from a particular bean definition but also control the scope of the objects created from a particular bean definition-->
<p>æ‚¨ä¸ä»…å¯ä»¥æ§åˆ¶è¦æ’å…¥åˆ°ç”±ç‰¹å®šbeanå®šä¹‰åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å„ç§ä¾èµ–é¡¹å’Œé…ç½®å€¼ï¼Œè¿˜å¯ä»¥æ§åˆ¶ç”±ç‰¹å®šbeanå®šä¹‰åˆ›å»ºçš„å¯¹è±¡çš„èŒƒå›´</p>
<table>
<thead>
<tr>
<th style="text-align:left">Scope</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes-singleton" target="_blank" rel="noopener">singleton</a></td>
<td style="text-align:left">(Default) Scopes a single bean definition to a single object instance for each Spring IoC container.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes-prototype" target="_blank" rel="noopener">prototype</a></td>
<td style="text-align:left">Scopes a single bean definition to any number of object instances.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes-request" target="_blank" rel="noopener">request</a></td>
<td style="text-align:left">Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware Spring <code>ApplicationContext</code>.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes-session" target="_blank" rel="noopener">session</a></td>
<td style="text-align:left">Scopes a single bean definition to the lifecycle of an HTTP <code>Session</code>. Only valid in the context of a web-aware Spring <code>ApplicationContext</code>.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-scopes-application" target="_blank" rel="noopener">application</a></td>
<td style="text-align:left">Scopes a single bean definition to the lifecycle of a <code>ServletContext</code>. Only valid in the context of a web-aware Spring <code>ApplicationContext</code>.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#websocket-stomp-websocket-scope" target="_blank" rel="noopener">websocket</a></td>
<td style="text-align:left">Scopes a single bean definition to the lifecycle of a <code>WebSocket</code>. Only valid in the context of a web-aware Spring <code>ApplicationContext</code>.</td>
</tr>
</tbody>
</table>
<h3 id="The-Singleton-Scope"><a href="#The-Singleton-Scope" class="headerlink" title="The Singleton Scope"></a>The Singleton Scope</h3><!--To put it another way, when you define a bean definition and it is scoped as a singleton, the Spring IoC container creates exactly one instance of the object defined by that bean definition.--> 
<!--This single instance is stored in a cache of such singleton beans, and all subsequent requests and references for that named bean return the cached object-->
<p>æ¢å¥è¯è¯´ï¼Œå½“æ‚¨å®šä¹‰ä¸€ä¸ªbeanå®šä¹‰å¹¶å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªå•ä¾‹å¯¹è±¡æ—¶ï¼ŒSpring IoCå®¹å™¨åªåˆ›å»ºè¯¥beanå®šä¹‰å®šä¹‰çš„å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>
<p>æ­¤å•ä¸€å®ä¾‹å­˜å‚¨åœ¨æ­¤ç±»å•ä¾‹beançš„ç¼“å­˜ä¸­ï¼Œè¯¥æŒ‡å®šbeançš„æ‰€æœ‰åç»­è¯·æ±‚å’Œå¼•ç”¨éƒ½å°†è¿”å›ç¼“å­˜çš„å¯¹è±¡</p>
<!--Springâ€™s concept of a singleton bean differs from the singleton pattern as defined in the Gang of Four (GoF) patterns book.-->
 <!--The GoF singleton hard-codes the scope of an object such that one and only one instance of a particular class is created per ClassLoader-->
<p>Springçš„å•ä¾‹beanæ¦‚å¿µä¸Gang of Four(GoF)æ¨¡å¼ä¹¦ä¸­å®šä¹‰çš„å•ä¾‹æ¨¡å¼ä¸åŒã€‚</p>
<p>å•ä¾‹å¯¹è±¡å¯¹å¯¹è±¡çš„ä½œç”¨åŸŸè¿›è¡Œç¡¬ç¼–ç ï¼Œè¿™æ ·æ¯ä¸ªç±»è£…å…¥å™¨åªèƒ½åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»çš„å®ä¾‹</p>
<h3 id="The-Prototype-Scope"><a href="#The-Prototype-Scope" class="headerlink" title="The Prototype Scope"></a>The Prototype Scope</h3><!--As a rule, you should use the prototype scope for all stateful beans and the singleton scope for stateless beans.-->
<!--In some respects, the Spring containerâ€™s role in regard to a prototype-scoped bean is a replacement for the Java `new` operator.--> 
<p>é€šå¸¸ï¼Œæ‚¨åº”è¯¥ä¸ºæ‰€æœ‰æœ‰çŠ¶æ€beanä½¿ç”¨åŸå‹èŒƒå›´ï¼Œä¸ºæ— çŠ¶æ€beanä½¿ç”¨å•ä¾‹èŒƒå›´ã€‚</p>
<p>åœ¨æŸäº›æ–¹é¢ï¼ŒSpringå®¹å™¨åœ¨åŸå‹ä½œç”¨åŸŸbeanæ–¹é¢çš„ä½œç”¨æ˜¯æ›¿ä»£Javaâ€œnewâ€æ“ä½œç¬¦ã€‚</p>
<h3 id="Singleton-Beans-with-Prototype-bean-Dependencies"><a href="#Singleton-Beans-with-Prototype-bean-Dependencies" class="headerlink" title="Singleton Beans with Prototype-bean Dependencies"></a><del>Singleton Beans with Prototype-bean Dependencies</del></h3><h3 id="Request-Session-Application-and-WebSocket-Scopes"><a href="#Request-Session-Application-and-WebSocket-Scopes" class="headerlink" title="Request, Session, Application, and WebSocket Scopes"></a>Request, Session, Application, and WebSocket Scopes</h3><h4 id="Request-scope"><a href="#Request-scope" class="headerlink" title="Request scope"></a>Request scope</h4><!--You can change the internal state of the instance that is created as much as you want, because other instances created from the same `loginAction` bean definition do not see these changes in state.--> 
<p>æ‚¨å¯ä»¥éšæ„æ›´æ”¹åˆ›å»ºçš„å®ä¾‹çš„å†…éƒ¨çŠ¶æ€ï¼Œå› ä¸ºä»ç›¸åŒçš„â€œloginActionâ€beanå®šä¹‰åˆ›å»ºçš„å…¶ä»–å®ä¾‹åœ¨çŠ¶æ€ä¸­çœ‹ä¸åˆ°è¿™äº›æ›´æ”¹ã€‚</p>
<h4 id="Session-Scope"><a href="#Session-Scope" class="headerlink" title="Session Scope"></a>Session Scope</h4> <!--As with request-scoped beans, you can change the internal state of the instance that is created as much as you want, knowing that other HTTP `Session` instances that are also using instances created from the same `userPreferences` bean definition do not see these changes in state, because they are particular to an individual HTTP `Session`.-->
<p>ä¸è¯·æ±‚èŒƒå›´å†…beanä¸€æ ·,ä½ å¯ä»¥æ”¹å˜å†…éƒ¨çŠ¶æ€çš„å®ä¾‹åˆ›å»ºå°½å¯èƒ½å¤šçš„ä½ æƒ³è¦çš„,çŸ¥é“å…¶ä»–HTTPä¼šè¯çš„å®ä¾‹ä¹Ÿä½¿ç”¨ç›¸åŒçš„å®ä¾‹åˆ›å»ºçš„userPreferences beanå®šä¹‰çœ‹ä¸åˆ°è¿™äº›å˜åŒ–çŠ¶æ€,å› ä¸ºä»–ä»¬æ˜¯ç‰¹å®šçš„ä¸€ä¸ªå•ç‹¬çš„HTTPä¼šè¯çš„ã€‚</p>
<h4 id="Application-Scope"><a href="#Application-Scope" class="headerlink" title="Application Scope"></a>Application Scope</h4><!--This is somewhat similar to a Spring singleton bean but differs in two important ways: It is a singleton per `ServletContext`, not per Spring 'ApplicationContext' (for which there may be several in any given web application), and it is actually exposed and therefore visible as a `ServletContext` attribute.-->
<p>è¿™æœ‰ç‚¹ç±»ä¼¼äºspringå•ä¾‹bean,ä½†åœ¨ä¸¤ä¸ªé‡è¦æ–¹é¢ä¸åŒ: å®ƒæ˜¯ä¸€ä¸ªå•ä¾‹æ¯ServletContext,ä¸æ˜¯æ¯ä¸ªspring ApplicationContextçš„(å¯èƒ½æœ‰å‡ ä¸ªåœ¨ä»»ä½•ç»™å®šçš„webåº”ç”¨ç¨‹åº),å®ƒå®é™…ä¸Šæ˜¯æš´éœ²,å› æ­¤å¯è§â€œServletContextâ€å±æ€§ã€‚</p>
<h4 id="Scoped-Beans-as-Dependencies"><a href="#Scoped-Beans-as-Dependencies" class="headerlink" title="Scoped Beans as Dependencies"></a>Scoped Beans as Dependencies</h4><!--The Spring IoC container manages not only the instantiation of your objects (beans), but also the wiring up of collaborators (or dependencies). If you want to inject (for example) an HTTP request-scoped bean into another bean of a longer-lived scope, you may choose to inject an AOP proxy in place of the scoped bean.-->
<p>Spring IoCå®¹å™¨ä¸ä»…ç®¡ç†å¯¹è±¡(bean)çš„å®ä¾‹åŒ–ï¼Œè¿˜ç®¡ç†åä½œè€…(æˆ–ä¾èµ–é¡¹)çš„è¿æ¥ã€‚å¦‚æœæ‚¨æƒ³å°†(ä¾‹å¦‚)ä¸€ä¸ªHTTPè¯·æ±‚ä½œç”¨åŸŸçš„beanæ³¨å…¥åˆ°å¦ä¸€ä¸ªæ›´é•¿çš„ä½œç”¨åŸŸçš„beanä¸­ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ³¨å…¥ä¸€ä¸ªAOPä»£ç†æ¥ä»£æ›¿ä½œç”¨åŸŸçš„beanã€‚</p>
<p>Choosing the Type of Proxy to Create</p>
<blockquote>
<p>CGLIB proxies intercept only public method calls! Do not call non-public methods on such a proxy. They are not delegated to the actual scoped target object.</p>
</blockquote>
<h3 id="Custom-Scopes"><a href="#Custom-Scopes" class="headerlink" title="Custom Scopes"></a><del>Custom Scopes</del></h3><h2 id="ğŸŒŸCustomizing-the-Nature-of-a-Bean-beanæ‰©å±•ç‚¹"><a href="#ğŸŒŸCustomizing-the-Nature-of-a-Bean-beanæ‰©å±•ç‚¹" class="headerlink" title="ğŸŒŸCustomizing the Nature of a Bean(beanæ‰©å±•ç‚¹)"></a>ğŸŒŸCustomizing the Nature of a Bean(beanæ‰©å±•ç‚¹)</h2><p>å…³é”®è¯: lifecycle callback; aware; </p>
<p>The Spring Framework provides a number of interfaces you can use to customize the nature of a bean. This section groups them as follows:</p>
<ul>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle" target="_blank" rel="noopener">Lifecycle Callbacks</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-aware" target="_blank" rel="noopener"><code>ApplicationContextAware</code> and <code>BeanNameAware</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#aware-list" target="_blank" rel="noopener">Other <code>Aware</code> Interfaces</a></li>
</ul>
<h3 id="Lifecycle-Callbacks-ç”Ÿå‘½å‘¨æœŸå›è°ƒ"><a href="#Lifecycle-Callbacks-ç”Ÿå‘½å‘¨æœŸå›è°ƒ" class="headerlink" title="Lifecycle Callbacks (ç”Ÿå‘½å‘¨æœŸå›è°ƒ)"></a>Lifecycle Callbacks (ç”Ÿå‘½å‘¨æœŸå›è°ƒ)</h3><!--Internally, the Spring Framework uses `BeanPostProcessor` implementations to process any callback interfaces it can find and call the appropriate methods. If you need custom features or other lifecycle behavior Spring does not by default offer, you can implement a `BeanPostProcessor` yourself. For more information, see [Container Extension Points](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-extension).-->
<p>åœ¨å†…éƒ¨ï¼ŒSpringæ¡†æ¶ä½¿ç”¨â€œBeanPostProcessorâ€å®ç°æ¥å¤„ç†å®ƒèƒ½æ‰¾åˆ°å¹¶è°ƒç”¨é€‚å½“æ–¹æ³•çš„ä»»ä½•å›è°ƒæ¥å£ã€‚å¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰ç‰¹æ€§æˆ–Springé»˜è®¤ä¸æä¾›çš„å…¶ä»–ç”Ÿå‘½å‘¨æœŸè¡Œä¸ºï¼Œæ‚¨å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªâ€œBeanPostProcessorâ€ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://docs.spring.io/spring-framework/docs/current/spring-framereference/core.html #beans-factory-extension" target="_blank" rel="noopener">å®¹å™¨æ‰©å±•ç‚¹</a>ã€‚</p>
<ul>
<li>spring æ¥å£ è€¦åˆ  <code>InitializingBean</code>ï¼Œ<code>DisposableBean</code></li>
<li>JSR-250 @PostConstruct æˆ– init-method   @PreDestroyæˆ– destroy-method</li>
<li><code>Lifecycle</code></li>
</ul>
<h4 id="Initialization-Callbacks"><a href="#Initialization-Callbacks" class="headerlink" title="Initialization Callbacks"></a>Initialization Callbacks</h4><pre><code>public class AnotherExampleBean implements InitializingBean {

    @Override
    public void afterPropertiesSet() {
        // do some initialization work
    }
}
</code></pre><h4 id="Destruction-Callbacks"><a href="#Destruction-Callbacks" class="headerlink" title="Destruction Callbacks"></a>Destruction Callbacks</h4><pre><code>public class AnotherExampleBean implements DisposableBean {

    @Override
    public void destroy() {
        // do some destruction work (like releasing pooled connections)
    }
}
</code></pre><h4 id="Default-Initialization-and-Destroy-Methods"><a href="#Default-Initialization-and-Destroy-Methods" class="headerlink" title="Default Initialization and Destroy Methods"></a>Default Initialization and Destroy Methods</h4><ul>
<li>default-init-method</li>
<li>default-destroy-method</li>
</ul>
<h4 id="Combining-Lifecycle-Mechanisms"><a href="#Combining-Lifecycle-Mechanisms" class="headerlink" title="Combining Lifecycle Mechanisms"></a>Combining Lifecycle Mechanisms</h4><p>As of Spring 2.5, you have three options for controlling bean lifecycle behavior:</p>
<ul>
<li>The <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-initializingbean" target="_blank" rel="noopener"><code>InitializingBean</code></a> and <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-lifecycle-disposablebean" target="_blank" rel="noopener"><code>DisposableBean</code></a> callback interfaces</li>
<li>Custom <code>init()</code> and <code>destroy()</code> methods</li>
<li>The <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-postconstruct-and-predestroy-annotations" target="_blank" rel="noopener"><code>@PostConstruct</code> and <code>@PreDestroy</code> annotations</a>. You can combine these mechanisms to control a given bean.</li>
</ul>
<h4 id="Startup-and-Shutdown-Callbacks"><a href="#Startup-and-Shutdown-Callbacks" class="headerlink" title="Startup and Shutdown Callbacks"></a>Startup and Shutdown Callbacks</h4><h5 id="Lifecycle"><a href="#Lifecycle" class="headerlink" title="Lifecycle"></a>Lifecycle</h5><pre><code class="java">public interface Lifecycle {

    void start();

    void stop();

    boolean isRunning();
}
</code></pre>
<h5 id="LifecycleProcessor"><a href="#LifecycleProcessor" class="headerlink" title="LifecycleProcessor"></a>LifecycleProcessor</h5><pre><code class="java">public interface LifecycleProcessor extends Lifecycle {

    void onRefresh();

    void onClose();
}
</code></pre>
<h5 id="Phased"><a href="#Phased" class="headerlink" title="Phased"></a>Phased</h5><!--The order of startup and shutdown invocations can be important. If a â€œdepends-onâ€ relationship exists between any two objects, the dependent side starts after its dependency, and it stops before its dependency. However, at times, the direct dependencies are unknown. You may only know that objects of a certain type should start prior to objects of another type.-->
<p>å¯åŠ¨å’Œå…³é—­è°ƒç”¨çš„é¡ºåºå¯èƒ½å¾ˆé‡è¦ã€‚å¦‚æœä»»ä½•ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å­˜åœ¨â€œä¾èµ–å…³ç³»â€ï¼Œä¾èµ–æ–¹åœ¨ä¾èµ–åå¼€å§‹ï¼Œåœ¨ä¾èµ–å‰åœæ­¢ã€‚ç„¶è€Œï¼Œæœ‰æ—¶ï¼Œç›´æ¥ä¾èµ–å…³ç³»æ˜¯æœªçŸ¥çš„ã€‚æ‚¨å¯èƒ½åªçŸ¥é“æŸç§ç±»å‹çš„å¯¹è±¡åº”è¯¥å…ˆäºå¦ä¸€ç§ç±»å‹çš„å¯¹è±¡å¯åŠ¨ã€‚</p>
<pre><code class="java">public interface Phased {

    int getPhase();
}
</code></pre>
<h4 id="Shutting-Down-the-Spring-IoC-Container-Gracefully-in-Non-Web-Applications"><a href="#Shutting-Down-the-Spring-IoC-Container-Gracefully-in-Non-Web-Applications" class="headerlink" title="Shutting Down the Spring IoC Container Gracefully in Non-Web Applications"></a>Shutting Down the Spring IoC Container Gracefully in Non-Web Applications</h4><!--If you use Springâ€™s IoC container in a non-web application environment (for example, in a rich client desktop environment), register a shutdown hook with the JVM. Doing so ensures a graceful shutdown and calls the relevant destroy methods on your singleton beans so that all resources are released. You must still configure and implement these destroy callbacks correctly.-->
<p>å¦‚æœæ‚¨åœ¨éwebåº”ç”¨ç¨‹åºç¯å¢ƒ(ä¾‹å¦‚ï¼Œåœ¨å®¢æˆ·æœºæ¡Œé¢ç¯å¢ƒä¸­)ä¸­ä½¿ç”¨Springçš„IoCå®¹å™¨ï¼Œè¯·å‘JVMæ³¨å†Œä¸€ä¸ªå…³é—­æŒ‚é’©ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿ä¼˜é›…åœ°å…³é—­å¹¶è°ƒç”¨å•ä¾‹beanä¸Šçš„ç›¸å…³é”€æ¯æ–¹æ³•ï¼Œä»¥ä¾¿é‡Šæ”¾æ‰€æœ‰èµ„æºã€‚æ‚¨ä»ç„¶å¿…é¡»æ­£ç¡®é…ç½®å’Œå®ç°è¿™äº›é”€æ¯å›è°ƒã€‚</p>
<p>registerShutdownHook()</p>
<h3 id="ApplicationContextAware-and-BeanNameAware"><a href="#ApplicationContextAware-and-BeanNameAware" class="headerlink" title="ApplicationContextAware and BeanNameAware"></a><code>ApplicationContextAware</code> and <code>BeanNameAware</code></h3><h4 id="ApplicationContextAware"><a href="#ApplicationContextAware" class="headerlink" title="ApplicationContextAware"></a>ApplicationContextAware</h4><pre><code class="java">public interface ApplicationContextAware {

    void setApplicationContext(ApplicationContext applicationContext) throws BeansException;
}
</code></pre>
<h4 id="BeanNameAware"><a href="#BeanNameAware" class="headerlink" title="BeanNameAware"></a>BeanNameAware</h4><pre><code class="java">public interface BeanNameAware {

    void setBeanName(String name) throws BeansException;
}
</code></pre>
<h3 id="Other-Aware-Interfaces"><a href="#Other-Aware-Interfaces" class="headerlink" title="Other Aware Interfaces"></a>Other <code>Aware</code> Interfaces</h3><table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Injected Dependency</th>
<th style="text-align:left">Explained inâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>ApplicationContextAware</code></td>
<td style="text-align:left">Declaring <code>ApplicationContext</code>.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-aware" target="_blank" rel="noopener"><code>ApplicationContextAware</code> and <code>BeanNameAware</code></a></td>
</tr>
<tr>
<td style="text-align:left"><code>ApplicationEventPublisherAware</code></td>
<td style="text-align:left">Event publisher of the enclosing <code>ApplicationContext</code>.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#context-introduction" target="_blank" rel="noopener">Additional Capabilities of the <code>ApplicationContext</code></a></td>
</tr>
<tr>
<td style="text-align:left"><code>BeanClassLoaderAware</code></td>
<td style="text-align:left">Class loader used to load the bean classes.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-class" target="_blank" rel="noopener">Instantiating Beans</a></td>
</tr>
<tr>
<td style="text-align:left"><code>BeanFactoryAware</code></td>
<td style="text-align:left">Declaring <code>BeanFactory</code>.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-aware" target="_blank" rel="noopener"><code>ApplicationContextAware</code> and <code>BeanNameAware</code></a></td>
</tr>
<tr>
<td style="text-align:left"><code>BeanNameAware</code></td>
<td style="text-align:left">Name of the declaring bean.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-aware" target="_blank" rel="noopener"><code>ApplicationContextAware</code> and <code>BeanNameAware</code></a></td>
</tr>
<tr>
<td style="text-align:left"><code>BootstrapContextAware</code></td>
<td style="text-align:left">Resource adapter <code>BootstrapContext</code> the container runs in. Typically available only in JCA-aware <code>ApplicationContext</code> instances.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html#cci" target="_blank" rel="noopener">JCA CCI</a></td>
</tr>
<tr>
<td style="text-align:left"><code>LoadTimeWeaverAware</code></td>
<td style="text-align:left">Defined weaver for processing class definition at load time.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#aop-aj-ltw" target="_blank" rel="noopener">Load-time Weaving with AspectJ in the Spring Framework</a></td>
</tr>
<tr>
<td style="text-align:left"><code>MessageSourceAware</code></td>
<td style="text-align:left">Configured strategy for resolving messages (with support for parametrization and internationalization).</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#context-introduction" target="_blank" rel="noopener">Additional Capabilities of the <code>ApplicationContext</code></a></td>
</tr>
<tr>
<td style="text-align:left"><code>NotificationPublisherAware</code></td>
<td style="text-align:left">Spring JMX notification publisher.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html#jmx-notifications" target="_blank" rel="noopener">Notifications</a></td>
</tr>
<tr>
<td style="text-align:left"><code>ResourceLoaderAware</code></td>
<td style="text-align:left">Configured loader for low-level access to resources.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#resources" target="_blank" rel="noopener">Resources</a></td>
</tr>
<tr>
<td style="text-align:left"><code>ServletConfigAware</code></td>
<td style="text-align:left">Current <code>ServletConfig</code> the container runs in. Valid only in a web-aware Spring <code>ApplicationContext</code>.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc" target="_blank" rel="noopener">Spring MVC</a></td>
</tr>
<tr>
<td style="text-align:left"><code>ServletContextAware</code></td>
<td style="text-align:left">Current <code>ServletContext</code> the container runs in. Valid only in a web-aware Spring <code>ApplicationContext</code>.</td>
<td style="text-align:left"><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc" target="_blank" rel="noopener">Spring MVC</a></td>
</tr>
</tbody>
</table>
<!--Note again that using these interfaces ties your code to the Spring API and does not follow the Inversion of Control style. As a result, we recommend them for infrastructure beans that require programmatic access to the container.-->
<p>å†æ¬¡æ³¨æ„ï¼Œä½¿ç”¨è¿™äº›æ¥å£å°†æ‚¨çš„ä»£ç ç»‘å®šåˆ°Spring APIï¼Œå¹¶ä¸”ä¸éµå¾ªæ§åˆ¶åè½¬æ ·å¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®å°†å®ƒä»¬ç”¨äºéœ€è¦å¯¹å®¹å™¨è¿›è¡Œç¼–ç¨‹è®¿é—®çš„åŸºç¡€è®¾æ–½beanã€‚</p>
<h2 id="Bean-Definition-Inheritance-å®šä¹‰ç»§æ‰¿"><a href="#Bean-Definition-Inheritance-å®šä¹‰ç»§æ‰¿" class="headerlink" title="Bean Definition Inheritance (å®šä¹‰ç»§æ‰¿)"></a><del>Bean Definition Inheritance (å®šä¹‰ç»§æ‰¿)</del></h2><h2 id="ğŸŒŸContainer-Extension-Points-ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰"><a href="#ğŸŒŸContainer-Extension-Points-ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰" class="headerlink" title="ğŸŒŸContainer Extension Points ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰"></a>ğŸŒŸContainer Extension Points ï¼ˆå®¹å™¨æ‰©å±•ç‚¹ï¼‰</h2><p>å…³é”®è¯ : bean; beanPostProcessor;Metadata ;BeanFactoryPostProcessor;FactoryBean; scoped per-container</p>
<h3 id="Customizing-Beans-by-Using-a-BeanPostProcessor"><a href="#Customizing-Beans-by-Using-a-BeanPostProcessor" class="headerlink" title="Customizing Beans by Using a BeanPostProcessor"></a>Customizing Beans by Using a BeanPostProcessor</h3><p>//ä¸€èˆ¬ç”¨äºè‡ªå®šä¹‰æ„é€ bean, å¤„ç†æ³¨è§£ (é€šç”¨æ³¨è§£ å’Œ è‡ªå®šä¹‰æ³¨è§£)</p>
<!--The `BeanPostProcessor` interface defines callback methods that you can implement to provide your own (or override the containerâ€™s default) instantiation logic, dependency resolution logic, and so forth.--> 
<!--If you want to implement some custom logic after the Spring container finishes instantiating, configuring, and initializing a bean, you can plug in one or more custom `BeanPostProcessor` implementations.-->
<!--You can configure multiple `BeanPostProcessor` instances, and you can control the order in which these `BeanPostProcessor` instances execute by setting the `order` property. You can set this property only if the `BeanPostProcessor` implements the `Ordered` interface.--> 
<p>BeanPostProcessoræ¥å£å®šä¹‰äº†å›è°ƒæ–¹æ³•ï¼Œæ‚¨å¯ä»¥å®ç°è¿™äº›å›è°ƒæ–¹æ³•æ¥æä¾›è‡ªå·±çš„(æˆ–è¦†ç›–å®¹å™¨çš„é»˜è®¤)å®ä¾‹åŒ–é€»è¾‘ã€ä¾èµ–é¡¹è§£æé€»è¾‘ç­‰ç­‰ã€‚</p>
<p>å¦‚æœå¸Œæœ›åœ¨Springå®¹å™¨å®Œæˆå®ä¾‹åŒ–ã€é…ç½®å’Œåˆå§‹åŒ–beanä¹‹åå®ç°ä¸€äº›è‡ªå®šä¹‰é€»è¾‘ï¼Œå¯ä»¥æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå®šä¹‰BeanPostProcessorå®ç°ã€‚</p>
<p>æ‚¨å¯ä»¥é…ç½®å¤šä¸ªBeanPostProcessorå®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è®¾ç½®orderå±æ€§æ¥æ§åˆ¶è¿™äº›BeanPostProcessorå®ä¾‹çš„æ‰§è¡Œé¡ºåºã€‚åªæœ‰åœ¨BeanPostProcessorå®ç°æœ‰åºæ¥å£æ—¶æ‰èƒ½è®¾ç½®æ­¤å±æ€§ã€‚</p>
<!--the `org.springframework.beans.factory.config.BeanPostProcessor` interface consists of exactly two callback methods-->
<!--When such a class is registered as a post-processor with the container, for each bean instance that is created by the container, the post-processor gets a callback from the container both before container initialization methods (such as `InitializingBean.afterPropertiesSet()` or any declared `init` method) are called, and after any bean initialization callbacks.-->
<!--The post-processor can take any action with the bean instance, including ignoring the callback completely. A bean post-processor typically checks for callback interfaces, or it may wrap a bean with a proxy. Some Spring AOP infrastructure classes are implemented as bean post-processors in order to provide proxy-wrapping logic.-->
<p>org.springframework.beans.factory.configã€‚BeanPostProcessoræ¥å£æ­£å¥½ç”±ä¸¤ä¸ªå›è°ƒæ–¹æ³•ç»„æˆã€‚</p>
<p>å½“è¿™æ ·ä¸€ä¸ªç±»æ³¨å†Œä¸ºåå¤„ç†å™¨çš„å®¹å™¨,æ¯ä¸ªå®¹å™¨åˆ›å»ºbeanå®ä¾‹,åå¤„ç†å™¨ä»å®¹å™¨ä¹‹å‰å¾—åˆ°ä¸€ä¸ªå›è°ƒå®¹å™¨åˆå§‹åŒ–æ–¹æ³•(å¦‚InitializingBean.afterPropertiesSet()æˆ–ä»»ä½•å®£å¸ƒinitæ–¹æ³•),ä»»ä½•beanåˆå§‹åŒ–åå›è°ƒã€‚</p>
<p>åå¤„ç†å™¨å¯ä»¥å¯¹beanå®ä¾‹é‡‡å–ä»»ä½•æ“ä½œï¼ŒåŒ…æ‹¬å®Œå…¨å¿½ç•¥å›è°ƒã€‚beanåå¤„ç†å™¨é€šå¸¸æ£€æŸ¥å›è°ƒæ¥å£ï¼Œæˆ–è€…ä½¿ç”¨ä»£ç†åŒ…è£…beanã€‚ä¸ºäº†æä¾›ä»£ç†åŒ…è£…é€»</p>
<p><code>BeanPostProcessor</code> instances and AOP auto-proxying</p>
<!--Classes that implement the `BeanPostProcessor` interface are special and are treated differently by the container.--> 
<!--All `BeanPostProcessor` instances and beans that they directly reference are instantiated on startup, as part of the special startup phase of the `ApplicationContext`.--> 
<!--Next, all `BeanPostProcessor` instances are registered in a sorted fashion and applied to all further beans in the container. Because AOP auto-proxying is implemented as a `BeanPostProcessor` itself, neither `BeanPostProcessor` instances nor the beans they directly reference are eligible for auto-proxying and, thus, do not have aspects woven into them.-->
<!--For any such bean, you should see an informational log message: `Bean someBean is not eligible for getting processed by all BeanPostProcessor interfaces (for example: not eligible for auto-proxying)`.-->
<p>å®ç°â€œBeanPostProcessorâ€æ¥å£çš„ç±»æ˜¯ç‰¹æ®Šçš„ï¼Œå®¹å™¨ä¼šä»¥ä¸åŒçš„æ–¹å¼å¯¹å¾…å®ƒä»¬ã€‚</p>
<p>å®ƒä»¬ç›´æ¥å¼•ç”¨çš„æ‰€æœ‰â€œBeanPostProcessorâ€å®ä¾‹å’Œbeanåœ¨å¯åŠ¨æ—¶å®ä¾‹åŒ–ï¼Œä½œä¸ºâ€œApplicationContextâ€çš„ç‰¹æ®Šå¯åŠ¨é˜¶æ®µçš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œä»¥æ’åºçš„æ–¹å¼æ³¨å†Œæ‰€æœ‰â€™ BeanPostProcessor â€˜å®ä¾‹ï¼Œå¹¶å°†å…¶åº”ç”¨äºå®¹å™¨ä¸­æ‰€æœ‰åç»­çš„beanã€‚å› ä¸ºAOPè‡ªåŠ¨ä»£ç†æ˜¯ä½œä¸ºâ€œBeanPostProcessorâ€æœ¬èº«å®ç°çš„ï¼Œæ‰€ä»¥æ— è®ºæ˜¯â€œBeanPostProcessorâ€å®ä¾‹è¿˜æ˜¯å®ƒä»¬ç›´æ¥å¼•ç”¨çš„beanéƒ½æ²¡æœ‰èµ„æ ¼è¿›è¡Œè‡ªåŠ¨ä»£ç†ï¼Œå› æ­¤æ²¡æœ‰å°†æ–¹é¢èå…¥åˆ°å®ƒä»¬ä¹‹ä¸­ã€‚</p>
<p>å¯¹äºä»»ä½•è¿™æ ·çš„beanï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸€æ¡ä¿¡æ¯æ—¥å¿—æ¶ˆæ¯:â€œbean someBeanä¸é€‚åˆè¢«æ‰€æœ‰BeanPostProcessoræ¥å£å¤„ç†(ä¾‹å¦‚: not eligible for auto-proxying)â€ã€‚</p>
<pre><code class="java">public interface BeanPostProcessor {

   @Nullable
   default Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
      return bean;
   }

   @Nullable
   default Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
      return bean;
   }

}
</code></pre>
<h3 id="Customizing-Configuration-Metadata-with-a-BeanFactoryPostProcessor"><a href="#Customizing-Configuration-Metadata-with-a-BeanFactoryPostProcessor" class="headerlink" title="Customizing Configuration Metadata with a BeanFactoryPostProcessor"></a>Customizing Configuration Metadata with a BeanFactoryPostProcessor</h3><p>//ä¸€èˆ¬åº”ç”¨ç”¨äºé…ç½®æ–‡ä»¶çš„è§£æ , å ä½ç¬¦çš„æ›¿æ¢ </p>
<!--The semantics of this interface are similar to those of the `BeanPostProcessor`, with one major difference: `BeanFactoryPostProcessor` operates on the bean configuration metadata.--> 
<!--That is, the Spring IoC container lets a `BeanFactoryPostProcessor` read the configuration metadata and potentially change it *before* the container instantiates any beans other than `BeanFactoryPostProcessor` instances.-->
<!--You can configure multiple `BeanFactoryPostProcessor` instances, and you can control the order in which these `BeanFactoryPostProcessor` instances run by setting the `order` property. However, you can only set this property if the `BeanFactoryPostProcessor` implements the `Ordered` interface.-->
<p>è¿™ä¸ªæ¥å£çš„è¯­ä¹‰ä¸â€œBeanPostProcessorâ€çš„è¯­ä¹‰ç±»ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªä¸»è¦åŒºåˆ«:â€œBeanFactoryPostProcessorâ€æ“ä½œbeané…ç½®å…ƒæ•°æ®ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒSpring IoCå®¹å™¨å…è®¸â€œBeanFactoryPostProcessorâ€è¯»å–é…ç½®å…ƒæ•°æ®ï¼Œå¹¶å¯èƒ½åœ¨å®¹å™¨å®ä¾‹åŒ–é™¤â€œBeanFactoryPostProcessorâ€å®ä¾‹ä¹‹å¤–çš„ä»»ä½•beanä¹‹å‰æ›´æ”¹å®ƒã€‚</p>
<p>æ‚¨å¯ä»¥é…ç½®å¤šä¸ªâ€™ BeanFactoryPostProcessor â€˜å®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è®¾ç½®â€™ order â€˜å±æ€§æ¥æ§åˆ¶è¿™äº›â€™ BeanFactoryPostProcessor â€˜å®ä¾‹çš„è¿è¡Œé¡ºåºã€‚ä½†æ˜¯ï¼Œåªæœ‰åœ¨â€™ BeanFactoryPostProcessor â€˜å®ç°â€™ Ordered â€˜æ¥å£æ—¶æ‰èƒ½è®¾ç½®æ­¤å±æ€§ã€‚</p>
<pre><code class="java">@FunctionalInterface
public interface BeanFactoryPostProcessor {

   /**
    * Modify the application context&#39;s internal bean factory after its standard
    * initialization. All bean definitions will have been loaded, but no beans
    * will have been instantiated yet. This allows for overriding or adding
    * properties even to eager-initializing beans.
    * @param beanFactory the bean factory used by the application context
    * @throws org.springframework.beans.BeansException in case of errors
    */
   void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException;

}
</code></pre>
<p>Spring includes a number of predefined bean factory post-processors, such as <code>PropertyOverrideConfigurer</code> and <code>PropertySourcesPlaceholderConfigurer</code>. </p>
<h4 id="PropertySourcesPlaceholderConfigurer"><a href="#PropertySourcesPlaceholderConfigurer" class="headerlink" title="PropertySourcesPlaceholderConfigurer"></a>PropertySourcesPlaceholderConfigurer</h4><!--At runtime, a `PropertySourcesPlaceholderConfigurer` is applied to the metadata that replaces some properties of the DataSource.-->
<!--The `PropertySourcesPlaceholderConfigurer` not only looks for properties in the `Properties` file you specify. By default, if it cannot find a property in the specified properties files, it checks against Spring `Environment` properties and regular Java `System` properties.-->
<p>åœ¨è¿è¡Œæ—¶ï¼Œâ€™ PropertySourcesPlaceholderConfigurer â€˜åº”ç”¨äºæ›¿ä»£æ•°æ®æºçš„æŸäº›å±æ€§çš„å…ƒæ•°æ®ã€‚</p>
<p>â€˜ PropertySourcesPlaceholderConfigurer â€˜ä¸ä»…åœ¨æ‚¨æŒ‡å®šçš„â€™ properties â€˜æ–‡ä»¶ä¸­æŸ¥æ‰¾å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨æŒ‡å®šçš„å±æ€§æ–‡ä»¶ä¸­æ‰¾ä¸åˆ°å±æ€§ï¼Œå®ƒä¼šæ£€æŸ¥Springçš„â€œEnvironmentâ€å±æ€§å’Œå¸¸è§„çš„Javaâ€œSystemâ€å±æ€§ã€‚</p>
<h4 id="PropertyOverrideConfigurer"><a href="#PropertyOverrideConfigurer" class="headerlink" title="PropertyOverrideConfigurer"></a>PropertyOverrideConfigurer</h4><!--The `PropertyOverrideConfigurer`, another bean factory post-processor, resembles the `PropertySourcesPlaceholderConfigurer`, but unlike the latter, the original definitions can have default values or no values at all for bean properties.--> 
<!--If an overriding `Properties` file does not have an entry for a certain bean property, the default context definition is used.-->
<p>å¦ä¸€ä¸ªbeanå·¥å‚åå¤„ç†å™¨â€™ PropertyOverrideConfigurer â€˜ç±»ä¼¼äºâ€™ PropertySourcesPlaceholderConfigurer â€˜ï¼Œä½†ä¸åè€…ä¸åŒï¼ŒåŸå§‹å®šä¹‰å¯ä»¥æœ‰ç¼ºçœå€¼ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰beanå±æ€§çš„å€¼ã€‚</p>
<p>å¦‚æœè¦†ç›–çš„â€œå±æ€§â€æ–‡ä»¶æ²¡æœ‰æŸä¸ªbeanå±æ€§çš„æ¡ç›®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„ä¸Šä¸‹æ–‡å®šä¹‰ã€‚</p>
<h3 id="Customizing-Instantiation-Logic-with-a-FactoryBean"><a href="#Customizing-Instantiation-Logic-with-a-FactoryBean" class="headerlink" title="Customizing Instantiation Logic with a FactoryBean"></a>Customizing Instantiation Logic with a FactoryBean</h3><!--The FactoryBean interface is a point of pluggability into the Spring IoC containerâ€™s instantiation logic.--> 
<!--If you have complex initialization code that is better expressed in Java as opposed to a (potentially) verbose amount of XML, you can create your own FactoryBean, write the complex initialization inside that class, and then plug your custom FactoryBean into the container.-->
<p>FactoryBeanæ¥å£æ˜¯ä¸€ä¸ªå¯æ’å…¥Spring IoCå®¹å™¨å®ä¾‹åŒ–é€»è¾‘çš„ç‚¹ã€‚</p>
<p>å¦‚æœæ‚¨æœ‰å¤æ‚çš„åˆå§‹åŒ–ä»£ç ï¼Œç”¨Javaè¡¨ç¤ºæ¯”(å¯èƒ½çš„)å†—é•¿çš„XMLæ›´å¥½ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„FactoryBeanï¼Œåœ¨è¯¥ç±»ä¸­ç¼–å†™å¤æ‚çš„åˆå§‹åŒ–ï¼Œç„¶åå°†å®šåˆ¶çš„FactoryBeanæ’å…¥å®¹å™¨ä¸­ã€‚</p>
<p>The <code>FactoryBean</code> interface provides three methods:</p>
<ul>
<li><code>Object getObject()</code>: Returns an instance of the object this factory creates. The instance can possibly be shared, depending on whether this factory returns singletons or prototypes.</li>
<li><code>boolean isSingleton()</code>: Returns <code>true</code> if this <code>FactoryBean</code> returns singletons or <code>false</code> otherwise.</li>
<li><code>Class getObjectType()</code>: Returns the object type returned by the <code>getObject()</code> method or <code>null</code> if the type is not known in advance.</li>
</ul>
<!--When you need to ask a container for an actual `FactoryBean` instance itself instead of the bean it produces, preface the beanâ€™s `id` with the ampersand symbol (`&`) when calling the `getBean()` method of the `ApplicationContext`.-->
<p>å½“æ‚¨éœ€è¦å‘å®¹å™¨è¯·æ±‚å®é™…çš„â€œFactoryBeanâ€å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å®ƒæ‰€ç”Ÿæˆçš„beanæ—¶ï¼Œ</p>
<p>åœ¨è°ƒç”¨â€œApplicationContextâ€çš„â€œgetBean()â€æ–¹æ³•æ—¶ï¼Œåœ¨beançš„â€œidâ€å‰é¢åŠ ä¸Šä¸ç¬¦å·(â€œ&amp;â€)ã€‚</p>
<h2 id="ğŸŒŸAnnotation-based-Container-Configuration-ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰"><a href="#ğŸŒŸAnnotation-based-Container-Configuration-ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰" class="headerlink" title="ğŸŒŸAnnotation-based Container Configuration ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰"></a>ğŸŒŸAnnotation-based Container Configuration ï¼ˆåŸºäºæ³¨é‡Šçš„å®¹å™¨é…ç½®ï¼‰</h2><p>ğŸ”‘å…³é”®è¯: configuration metadata; @Autowired ;@Order;@Primary;@Qulifier;@Resources;BeanPostProcessor</p>
<p>ğŸ•™Timeline:</p>
<ul>
<li>Spring 2.0 @required</li>
<li>Spring 2.5   @Autowired ,also JSR-250 annotations, such as <code>@PostConstruct</code> and <code>@PreDestroy</code>. </li>
<li>Spring 3.0  JSR-330 (Dependency Injection for Java) annotations contained in the <code>javax.inject</code> package such as <code>@Inject</code> and <code>@Named</code>. </li>
</ul>
<p>how to provide a lot of the configuration metadata through source-level annotations.</p>
<p>å¦‚ä½•é€šè¿‡æºçº§åˆ«çš„æ³¨è§£æä¾›è®¸å¤šé…ç½®å…ƒæ•°æ®ã€‚</p>
<p>can also be implicitly registered by including the following tag in an XML-based Spring configuration</p>
<pre><code class="xml">&lt;beans xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       ...&gt;
    &lt;context:annotation-config/&gt;
&lt;/beans&gt;
</code></pre>
<p>The implicitly registered post-processors include</p>
<ul>
<li><a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.html" target="_blank" rel="noopener"><code>AutowiredAnnotationBeanPostProcessor</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/context/annotation/CommonAnnotationBeanPostProcessor.html" target="_blank" rel="noopener"><code>CommonAnnotationBeanPostProcessor</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/orm/jpa/support/PersistenceAnnotationBeanPostProcessor.html" target="_blank" rel="noopener"><code>PersistenceAnnotationBeanPostProcessor</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/RequiredAnnotationBeanPostProcessor.html" target="_blank" rel="noopener"><code>RequiredAnnotationBeanPostProcessor</code></a></li>
</ul>
<!--Annotation injection is performed before XML injection. Thus, the XML configuration overrides the annotations for properties wired through both approaches.-->
<p>æ³¨è§£æ³¨å…¥åœ¨XMLæ³¨å…¥ä¹‹å‰æ‰§è¡Œã€‚ å› æ­¤ï¼ŒXMLé…ç½®å°†è¦†ç›–é€šè¿‡ä¸¤ç§æ–¹æ³•è¿æ¥çš„å±æ€§çš„æ³¨é‡Šã€‚</p>
<h3 id="Required"><a href="#Required" class="headerlink" title="@Required"></a>@Required</h3><!--The `@Required` annotation is formally deprecated(å¼ƒç”¨) as of Spring Framework 5.1, in favor of using constructor injection for required settings (or a custom implementation of `InitializingBean.afterPropertiesSet()` along with bean property setter methods).-->
<p>ä»Spring Framework 5.1å¼€å§‹ï¼Œæ­£å¼å¼ƒç”¨äº†@Requiredæ‰¹æ³¨ï¼ˆå¼ƒç”¨ï¼‰ï¼Œä»¥ä¾¿ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥è¿›è¡Œå¿…éœ€çš„è®¾ç½®ï¼ˆæˆ–InitializingBean.afterPropertiesSetï¼ˆï¼‰çš„è‡ªå®šä¹‰å®ç°ä»¥åŠbeanå±æ€§è®¾ç½®å™¨æ–¹æ³•ï¼‰ã€‚</p>
<h3 id="Using-Autowired"><a href="#Using-Autowired" class="headerlink" title="Using @Autowired"></a>Using @Autowired</h3><ul>
<li>apply the <code>@Autowired</code> annotation to constructors</li>
<li>apply the <code>@Autowired</code> annotation to <em>traditional</em> setter methods</li>
<li>apply the annotation to methods with arbitrary names and multiple arguments</li>
<li>apply <code>@Autowired</code> to fields as well and even mix it with constructors</li>
</ul>
<!--As of Spring Framework 4.3, an `@Autowired` annotation on such a constructor is no longer necessary if the target bean defines only one constructor to begin with. However, if several constructors are available, at least one must be annotated with `@Autowired` in order to instruct the container which one to use.-->
<p>ä»Spring Framework 4.3å¼€å§‹ï¼Œå¦‚æœç›®æ ‡beanä»…å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°ä½œä¸ºå¼€å§‹ï¼Œåˆ™ä¸å†éœ€è¦åœ¨æ­¤ç±»æ„é€ å‡½æ•°ä¸Šä½¿ç”¨@Autowiredæ‰¹æ³¨ã€‚ </p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæœ‰å‡ ä¸ªæ„é€ å‡½æ•°å¯ç”¨ï¼Œåˆ™è‡³å°‘ä¸€ä¸ªå¿…é¡»ç”¨@Autowiredæ³¨é‡Šï¼Œä»¥æŒ‡ç¤ºå®¹å™¨ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°ã€‚</p>
<p>âš ï¸Ps:  è‡ªåŠ¨è£…é…æ³¨æ„ no type match found ,éœ€è¦ç¡®ä¿ç±»å‹å”¯ä¸€</p>
<h4 id="Order"><a href="#Order" class="headerlink" title="@Order"></a>@<strong>Order</strong></h4><!--You can declare the `@Order` annotation at the target class level and on `@Bean` methods, potentially for individual bean definitions (in case of multiple definitions that use the same bean class). `@Order` values may influence priorities at injection points, but be aware that they do not influence singleton startup order, which is an orthogonal concern determined by dependency relationships and `@DependsOn` declarations.-->
<!--Note that the standard `javax.annotation.Priority` annotation is not available at the `@Bean` level, since it cannot be declared on methods. Its semantics can be modeled through `@Order` values in combination with `@Primary` on a single bean for each type.-->
<p>æ‚¨å¯ä»¥åœ¨ç›®æ ‡ç±»çº§åˆ«å’Œ@Beanæ–¹æ³•ä¸Šå£°æ˜@Orderæ‰¹æ³¨ï¼Œè¿™å¯èƒ½é€‚ç”¨äºå•ä¸ªbeanå®šä¹‰ï¼ˆå¦‚æœä½¿ç”¨åŒä¸€beanç±»çš„å¤šä¸ªå®šä¹‰ï¼‰ã€‚ @Orderå€¼å¯èƒ½ä¼šå½±å“æ³¨å…¥ç‚¹çš„ä¼˜å…ˆçº§ï¼Œä½†è¯·æ³¨æ„å®ƒä»¬ä¸ä¼šå½±å“å•ä¾‹å¯åŠ¨é¡ºåºï¼Œè¿™æ˜¯ç”±ä¾èµ–å…³ç³»å’Œ@DependsOnå£°æ˜ç¡®å®šçš„æ­£äº¤å…³æ³¨ç‚¹ ã€‚</p>
<p>æ³¨æ„ï¼Œæ ‡å‡†javax.annotation.Priorityæ³¨é‡Šåœ¨@Beançº§åˆ«ä¸å¯ç”¨ï¼Œå› ä¸ºæ— æ³•åœ¨æ–¹æ³•ä¸Šå£°æ˜å®ƒã€‚ å®ƒçš„è¯­ä¹‰å¯ä»¥é€šè¿‡@Orderå€¼ä¸@Primaryç»“åˆåœ¨æ¯ç§ç±»å‹çš„å•ä¸ªbeanä¸Šè¿›è¡Œå»ºæ¨¡ã€‚</p>
<h4 id="Java8-amp-spring-5-0"><a href="#Java8-amp-spring-5-0" class="headerlink" title="Java8 &amp; spring 5.0"></a><strong>Java8 &amp; spring 5.0</strong></h4><p>express the non-required nature of a particular dependency through Java 8â€™s <code>java.util.Optional</code></p>
<p>As of Spring Framework 5.0, you can also use a <code>@Nullable</code> annotation (of any kind in any packageâ€‰â€”â€‰for example, <code>javax.annotation.Nullable</code> from JSR-305)</p>
<!--the `@Autowired`, `@Inject`, `@Value`, and `@Resource` annotations are handled by Spring `BeanPostProcessor` implementations.-->
 <!--This means that you cannot apply these annotations within your own `BeanPostProcessor` or `BeanFactoryPostProcessor` types (if any).-->
<p>Spring BeanPostProcessorå®ç°å¤„ç†@ Autowiredï¼Œ@ Injectï¼Œ@ Valueå’Œ@Resourceæ‰¹æ³¨ã€‚</p>
<p>  è¿™æ„å‘³ç€æ‚¨ä¸èƒ½åœ¨è‡ªå·±çš„BeanPostProcessoræˆ–BeanFactoryPostProcessorç±»å‹ï¼ˆå¦‚æœæœ‰ï¼‰ä¸­åº”ç”¨è¿™äº›æ³¨é‡Šã€‚</p>
<h3 id="Fine-tuning-å¾®è°ƒ-Annotation-based-Autowiring-with-Primary"><a href="#Fine-tuning-å¾®è°ƒ-Annotation-based-Autowiring-with-Primary" class="headerlink" title="Fine-tuning(å¾®è°ƒ) Annotation-based Autowiring with @Primary"></a>Fine-tuning(å¾®è°ƒ) Annotation-based Autowiring with @Primary</h3><p>å½“å¯ä»¥ç¡®å®šä¸€ä¸ªä¸»è¦å€™é€‰è€…æ—¶ï¼Œ@ Primaryæ˜¯åœ¨å‡ ç§æƒ…å†µä¸‹æŒ‰ç±»å‹ä½¿ç”¨è‡ªåŠ¨è£…é…çš„æœ‰æ•ˆæ–¹æ³•ã€‚</p>
<h3 id="Fine-tuning-Annotation-based-Autowiring-with-Qualifiers"><a href="#Fine-tuning-Annotation-based-Autowiring-with-Qualifiers" class="headerlink" title="Fine-tuning Annotation-based Autowiring with Qualifiers"></a>Fine-tuning Annotation-based Autowiring with Qualifiers</h3><!--That said, if you intend to express annotation-driven injection by name, do not primarily use `@Autowired`, even if it is capable of selecting by bean name among type-matching candidates.--> 
<!--Instead, use the JSR-250 `@Resource` annotation, which is semantically defined to identify a specific target component by its unique name, with the declared type being irrelevant for the matching process.-->
<p>å°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨æ‰“ç®—æŒ‰åç§°è¡¨ç¤ºæ³¨é‡Šé©±åŠ¨çš„æ³¨å…¥ï¼Œåˆ™å³ä½¿å®ƒèƒ½å¤Ÿåœ¨ç±»å‹åŒ¹é…çš„å€™é€‰å¯¹è±¡ä¸­æŒ‰beanåç§°è¿›è¡Œé€‰æ‹©ï¼Œä¹Ÿä¸è¦ä¸»è¦ä½¿ç”¨<code>@ Autowired</code>ã€‚</p>
<p>ç›¸åï¼Œè¯·ä½¿ç”¨JSR-250<code>@ Resource</code>æ³¨é‡Šï¼Œè¯¥æ³¨é‡Šåœ¨è¯­ä¹‰ä¸Šå®šä¹‰ä¸ºé€šè¿‡å…¶å”¯ä¸€åç§°æ ‡è¯†ç‰¹å®šç›®æ ‡ç»„ä»¶ï¼Œè€Œå£°æ˜çš„ç±»å‹ä¸åŒ¹é…è¿‡ç¨‹æ— å…³ã€‚</p>
<h3 id="Using-Generics-as-Autowiring-Qualifiers"><a href="#Using-Generics-as-Autowiring-Qualifiers" class="headerlink" title="Using Generics as Autowiring Qualifiers"></a>Using Generics as Autowiring Qualifiers</h3><!--In addition to the @Qualifier annotation, you can use Java generic types as an implicit form of qualification-->
<p>é™¤äº†@Qualifieræ‰¹æ³¨ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨Javaæ³›å‹ç±»å‹ä½œä¸ºèµ„æ ¼çš„éšå¼å½¢å¼</p>
<h3 id="Using-CustomAutowireConfigurer"><a href="#Using-CustomAutowireConfigurer" class="headerlink" title="Using CustomAutowireConfigurer"></a>Using <code>CustomAutowireConfigurer</code></h3><!--[`CustomAutowireConfigurer`](https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/CustomAutowireConfigurer.html) is a `BeanFactoryPostProcessor` that lets you register your own custom qualifier annotation types, even if they are not annotated with Springâ€™s `@Qualifier` annotation.-->
<p>CustomAutowireConfigureræ˜¯BeanFactoryPostProcessorï¼Œå³ä½¿æ‚¨æ²¡æœ‰ä½¿ç”¨Springçš„@Qualifieræ‰¹æ³¨è¿›è¡Œæ‰¹æ³¨ï¼Œä¹Ÿå¯ä»¥è®©æ‚¨æ³¨å†Œè‡ªå·±çš„è‡ªå®šä¹‰æ‰¹æ³¨æ‰¹æ³¨ç±»å‹ã€‚</p>
<p>@see org.springframework.beans.factory.annotation.CustomAutowireConfigurer</p>
<h3 id="Injection-with-Resource-JSR-250-amp-name"><a href="#Injection-with-Resource-JSR-250-amp-name" class="headerlink" title="Injection with @Resource (JSR-250 &amp; name)"></a>Injection with @Resource (JSR-250 &amp; name)</h3><!--Spring also supports injection by using the JSR-250 `@Resource` annotation (`javax.annotation.Resource`) on fields or bean property setter methods.-->
<!--`@Resource` takes a name attribute. By default, Spring interprets that value as the bean name to be injected.--> 
<p>Springè¿˜é€šè¿‡åœ¨å­—æ®µæˆ–beanå±æ€§è®¾ç½®å™¨æ–¹æ³•ä¸Šä½¿ç”¨JSR-250<code>@ Resource</code>æ‰¹æ³¨ï¼ˆjavax.annotation.Resource`ï¼‰æ”¯æŒæ³¨å…¥ã€‚</p>
<p>@Resourceå…·æœ‰åç§°å±æ€§ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringå°†è¯¥å€¼è§£é‡Šä¸ºè¦æ³¨å…¥çš„Beanåç§°ã€‚</p>
<h3 id="Using-Value"><a href="#Using-Value" class="headerlink" title="Using @Value"></a>Using <code>@Value</code></h3><!--A default lenient embedded value resolver is provided by Spring. It will try to resolve the property value and if it cannot be resolved, the property name (for example `${catalog.name}`) will be injected as the value.-->
 <!--If you want to maintain strict control over nonexistent values, you should declare a `PropertySourcesPlaceholderConfigurer` bean-->
<p>Springæä¾›äº†ä¸€ä¸ªé»˜è®¤çš„å®½æ¾å†…åµŒå€¼è§£æå™¨ã€‚ å®ƒå°†å°è¯•è§£æå±æ€§å€¼ï¼Œå¦‚æœæ— æ³•è§£æï¼Œåˆ™å°†å±æ€§åç§°ï¼ˆä¾‹å¦‚$ {catalog.name}ï¼‰ä½œä¸ºå€¼æ³¨å…¥ã€‚ </p>
<p>å¦‚æœè¦ä¸¥æ ¼æ§åˆ¶ä¸å­˜åœ¨çš„å€¼ï¼Œåˆ™åº”å£°æ˜ä¸€ä¸ªPropertySourcesPlaceholderConfigurer bean</p>
<!--Using the above configuration ensures Spring initialization failure if any ${} placeholder could not be resolved. It is also possible to use methods like setPlaceholderPrefix, setPlaceholderSuffix, or setValueSeparator to customize placeholders.-->
<p>å¦‚æœæ— æ³•è§£æä»»ä½•$ {}å ä½ç¬¦ï¼Œåˆ™ä½¿ç”¨ä¸Šè¿°é…ç½®å¯ç¡®ä¿Springåˆå§‹åŒ–å¤±è´¥ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨setPlaceholderPrefixï¼ŒsetPlaceholderSuffixæˆ–setValueSeparatorä¹‹ç±»çš„æ–¹æ³•æ¥è‡ªå®šä¹‰å ä½ç¬¦ã€‚</p>
<!--When configuring a `PropertySourcesPlaceholderConfigurer` using JavaConfig, the `@Bean` method must be `static`.-->
<!--Spring Boot configures by default a PropertySourcesPlaceholderConfigurer bean that will get properties from application.properties and application.yml files.-->
<p>å½“ä½¿ç”¨JavaConfigé…ç½®<code>PropertySourcesPlaceholderConfigurer</code>æ—¶ï¼Œ@Beanæ–¹æ³•å¿…é¡»æ˜¯é™æ€çš„ã€‚</p>
<p>Spring Booté»˜è®¤é…ç½®ä¸€ä¸ªPropertySourcesPlaceholderConfigurer beanï¼Œå®ƒå°†ä»application.propertieså’Œapplication.ymlæ–‡ä»¶è·å–å±æ€§ã€‚</p>
<!--A Spring `BeanPostProcessor` uses a `ConversionService` behind the scene to handle the process for converting the String value in `@Value` to the target type. If you want to provide conversion support for your own custom type, you can provide your own `ConversionService` bean instance-->
<p>Spring  BeanPostProcessorä½¿ç”¨ConversionServiceæ¥å¤„ç†å°†@Valueä¸­çš„Stringå€¼è½¬æ¢ä¸ºç›®æ ‡ç±»å‹çš„è¿‡ç¨‹ã€‚ å¦‚æœè¦ä¸ºè‡ªå·±çš„è‡ªå®šä¹‰ç±»å‹æä¾›è½¬æ¢æ”¯æŒï¼Œåˆ™å¯ä»¥æä¾›è‡ªå·±çš„<code>ConversionService</code> beanå®ä¾‹</p>
<p><strong>ç›¸å…³ç±»</strong>:</p>
<p>@see org.springframework.core.convert.ConversionService</p>
<p>@see org.springframework.context.support.PropertySourcesPlaceholderConfigurer</p>
<h3 id="Using-PostConstruct-and-PreDestroy-JSR-250"><a href="#Using-PostConstruct-and-PreDestroy-JSR-250" class="headerlink" title="Using @PostConstruct and @PreDestroy (JSR-250)"></a>Using <code>@PostConstruct</code> and <code>@PreDestroy</code> (JSR-250)</h3><p>The <code>CommonAnnotationBeanPostProcessor</code> not only recognizes the <code>@Resource</code> annotation but also the JSR-250 lifecycle annotations: <code>javax.annotation.PostConstruct</code> and <code>javax.annotation.PreDestroy</code>.</p>
<h2 id="ğŸŒŸClasspath-Scanning-and-Managed-Components"><a href="#ğŸŒŸClasspath-Scanning-and-Managed-Components" class="headerlink" title="ğŸŒŸClasspath Scanning and Managed Components"></a>ğŸŒŸClasspath Scanning and Managed Components</h2><p>ğŸ”‘å…³é”®è¯: @Component ;Stereotype Annotations; @ComponentScan; spring-context-indexer</p>
<!--Starting with Spring 3.0, many features provided by the Spring JavaConfig project are part of the core Spring Framework. This allows you to define beans using Java rather than using the traditional XML files. Take a look at the `@Configuration`, `@Bean`, `@Import`, and `@DependsOn` annotations for examples of how to use these new features.-->
<p>ä»Spring 3.0å¼€å§‹ï¼ŒSpring JavaConfigé¡¹ç›®æä¾›çš„è®¸å¤šåŠŸèƒ½æ˜¯æ ¸å¿ƒSpring Frameworkçš„ä¸€éƒ¨åˆ†ã€‚è¿™ä½¿æ‚¨å¯ä»¥ä½¿ç”¨Javaè€Œä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„XMLæ–‡ä»¶æ¥å®šä¹‰beanã€‚è¯·çœ‹ä¸€ä¸‹@ Configurationï¼Œ@ Beanï¼Œ@ Importå’Œ@DependsOnæ³¨é‡Šï¼Œä»¥è·å–æœ‰å…³å¦‚ä½•ä½¿ç”¨è¿™äº›æ–°åŠŸèƒ½çš„ç¤ºä¾‹ã€‚</p>
<h3 id="Component-and-Further-Stereotype-Annotations-æ¨¡å¼æ³¨è§£"><a href="#Component-and-Further-Stereotype-Annotations-æ¨¡å¼æ³¨è§£" class="headerlink" title="@Component and Further Stereotype Annotations (æ¨¡å¼æ³¨è§£)"></a><code>@Component</code> and Further Stereotype Annotations (æ¨¡å¼æ³¨è§£)</h3><!--Starting with Spring 3.0, many features provided by the Spring JavaConfig project are part of the core Spring Framework. This allows you to define beans using Java rather than using the traditional XML files. Take a look at the `@Configuration`, `@Bean`, `@Import`, and `@DependsOn` annotations for examples of how to use these new features.-->
<p>ä»Spring 3.0å¼€å§‹ï¼ŒSpring JavaConfigé¡¹ç›®æä¾›çš„è®¸å¤šåŠŸèƒ½æ˜¯æ ¸å¿ƒSpring Frameworkçš„ä¸€éƒ¨åˆ†ã€‚è¿™ä½¿æ‚¨å¯ä»¥ä½¿ç”¨Javaè€Œä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„XMLæ–‡ä»¶æ¥å®šä¹‰beanã€‚è¯·çœ‹ä¸€ä¸‹@ Configurationï¼Œ@ Beanï¼Œ@ Importå’Œ@DependsOnæ³¨é‡Šï¼Œä»¥è·å–æœ‰å…³å¦‚ä½•ä½¿ç”¨è¿™äº›æ–°åŠŸèƒ½çš„ç¤ºä¾‹ã€‚</p>
<!--The @Repository annotation is a marker for any class that fulfills the role or stereotype of a repository (also known as Data Access Object or DAO). Among the uses of this marker is the automatic translation of exceptions, as described in Exception Translation.-->
<!--Spring provides further stereotype annotations: @Component, @Service, and @Controller. @Component is a generic stereotype for any Spring-managed component. @Repository, @Service, and @Controller are specializations of @Component for more specific use cases (in the persistence, service, and presentation layers, respectively).--> 
<!--Therefore, you can annotate your component classes with @Component, but, by annotating them with @Repository, @Service, or @Controller instead, your classes are more properly suited for processing by tools or associating with aspects. For example, these stereotype annotations make ideal targets for pointcuts. @Repository, @Service, and @Controller can also carry additional semantics in future releases of the Spring Framework.--> 
<!--Thus, if you are choosing between using @Component or @Service for your service layer, @Service is clearly the better choice. Similarly, as stated earlier, @Repository is already supported as a marker for automatic exception translation in your persistence layer.-->
<p>@Repositoryæ‰¹æ³¨æ˜¯å®ç°å­˜å‚¨åº“çš„è§’è‰²æˆ–æ„é€ å‹ï¼ˆä¹Ÿç§°ä¸ºæ•°æ®è®¿é—®å¯¹è±¡æˆ–DAOï¼‰çš„ä»»ä½•ç±»çš„æ ‡è®°ã€‚è¯¥æ ‡è®°çš„ç”¨é€”åŒ…æ‹¬è‡ªåŠ¨ç¿»è¯‘å¼‚å¸¸ï¼Œå¦‚â€œå¼‚å¸¸ç¿»è¯‘â€ä¸­æ‰€è¿°ã€‚</p>
<p>Springæä¾›äº†è¿›ä¸€æ­¥çš„æ„é€ å‹æ³¨é‡Šï¼š@ Componentï¼Œ@ Serviceå’Œ@Controllerã€‚ @Componentæ˜¯ä»»ä½•Springæ‰˜ç®¡ç»„ä»¶çš„é€šç”¨æ„é€ å‹ã€‚ @ Repositoryï¼Œ@ Serviceå’Œ@Controlleræ˜¯@Componentçš„ç‰¹åŒ–ï¼Œç”¨äºæ›´ç‰¹å®šçš„ç”¨ä¾‹ï¼ˆåˆ†åˆ«åœ¨æŒä¹…å±‚ï¼ŒæœåŠ¡å±‚å’Œè¡¨ç¤ºå±‚ä¸­ï¼‰ã€‚</p>
<p>å› æ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨@Componentæ¥æ³¨é‡Šç»„ä»¶ç±»ï¼Œä½†æ˜¯é€šè¿‡ä½¿ç”¨@ Repositoryï¼Œ@ Serviceæˆ–@Controlleræ¥æ³¨é‡Šç»„ä»¶ç±»ï¼Œæ‚¨çš„ç±»æ›´é€‚åˆé€šè¿‡å·¥å…·è¿›è¡Œå¤„ç†æˆ–ä¸æ–¹é¢ç›¸å…³è”ã€‚ä¾‹å¦‚ï¼Œè¿™äº›æ„é€ å‹æ³¨é‡Šæˆä¸ºåˆ‡å…¥ç‚¹çš„ç†æƒ³ç›®æ ‡ã€‚ @ Repositoryï¼Œ@ Serviceå’Œ@Controlleråœ¨Springæ¡†æ¶çš„å°†æ¥ç‰ˆæœ¬ä¸­ä¹Ÿå¯ä»¥å¸¦æœ‰å…¶ä»–è¯­ä¹‰ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœåœ¨æœåŠ¡å±‚ä½¿ç”¨@Componentæˆ–@Serviceä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼Œåˆ™@Serviceæ˜¾ç„¶æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚åŒæ ·ï¼Œå¦‚å‰æ‰€è¿°ï¼Œ@ Repositoryå·²è¢«æ”¯æŒä½œä¸ºæŒä¹…å±‚ä¸­è‡ªåŠ¨å¼‚å¸¸è½¬æ¢çš„æ ‡è®°ã€‚</p>
<h3 id="Using-Meta-annotations-and-Composed-Annotations-å…ƒæ³¨è§£"><a href="#Using-Meta-annotations-and-Composed-Annotations-å…ƒæ³¨è§£" class="headerlink" title="Using Meta-annotations and Composed Annotations(å…ƒæ³¨è§£)"></a>Using Meta-annotations and Composed Annotations(å…ƒæ³¨è§£)</h3><!--Many of the annotations provided by Spring can be used as meta-annotations in your own code. A meta-annotation is an annotation that can be applied to another annotation.For example, the @Service annotation mentioned earlier is meta-annotated with @Component-->
<p>Springæä¾›çš„è®¸å¤šæ³¨é‡Šéƒ½å¯ä»¥åœ¨æ‚¨è‡ªå·±çš„ä»£ç ä¸­ç”¨ä½œå…ƒæ³¨é‡Šã€‚ å…ƒæ³¨é‡Šæ˜¯å¯ä»¥åº”ç”¨äºå¦ä¸€ä¸ªæ³¨é‡Šçš„æ³¨é‡Šã€‚ ä¾‹å¦‚ï¼Œå‰é¢æåˆ°çš„@Serviceæ³¨é‡Šä½¿ç”¨@Componentè¿›è¡Œå…ƒæ³¨é‡Šã€‚</p>
<h3 id="Automatically-Detecting-Classes-and-Registering-Bean-Definitions-è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰"><a href="#Automatically-Detecting-Classes-and-Registering-Bean-Definitions-è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰" class="headerlink" title="Automatically Detecting Classes and Registering Bean Definitions(è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰)"></a>Automatically Detecting Classes and Registering Bean Definitions(è‡ªåŠ¨æ£€æµ‹ç±»å¹¶æ³¨å†ŒBeanå®šä¹‰)</h3><!--To autodetect these classes and register the corresponding beans, you need to add @ComponentScan to your @Configuration class, where the basePackages attribute is a common parent package for the two classes.-->
<p>è¦è‡ªåŠ¨æ£€æµ‹è¿™äº›ç±»å¹¶æ³¨å†Œç›¸åº”çš„beanï¼Œæ‚¨éœ€è¦å°†@ComponentScanæ·»åŠ åˆ°@Configurationç±»ä¸­ï¼Œå…¶ä¸­basePackageså±æ€§æ˜¯è¿™ä¸¤ä¸ªç±»çš„å…¬å…±çˆ¶åŒ…ã€‚ ï¼ˆæˆ–è€…ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªé€—å·åˆ†éš”ï¼Œåˆ†å·åˆ†éš”æˆ–ç©ºæ ¼åˆ†éš”çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…æ‹¬æ¯ä¸ªç±»çš„çˆ¶åŒ…ã€‚ï¼‰</p>
<p>The use of <code>&lt;context:component-scan&gt;</code> implicitly enables the functionality of <code>&lt;context:annotation-config&gt;</code>. There is usually no need to include the <code>&lt;context:annotation-config&gt;</code> element when using <code>&lt;context:component-scan&gt;</code>.</p>
<h3 id="Using-Filters-to-Customize-Scanning"><a href="#Using-Filters-to-Customize-Scanning" class="headerlink" title="Using Filters to Customize Scanning"></a>Using Filters to Customize Scanning</h3><p>Add them as <code>includeFilters</code> or <code>excludeFilters</code> attributes of the <code>@ComponentScan</code> annotation (or as <code>or</code> child elements of the <code></code> element in XML configuration). Each filter element requires the <code>type</code> and <code>expression</code> attributes. </p>
<p>Filter Type</p>
<ul>
<li><p>annotation (default)</p>
</li>
<li><p>assignable</p>
</li>
<li><p>aspectj</p>
</li>
<li><p>regex</p>
</li>
<li><p>custom</p>
</li>
</ul>
<h3 id="Defining-Bean-Metadata-within-Components-åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®"><a href="#Defining-Bean-Metadata-within-Components-åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®" class="headerlink" title="Defining Bean Metadata within Components(åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®)"></a>Defining Bean Metadata within Components(åœ¨ç»„ä»¶ä¸­å®šä¹‰Beanå…ƒæ•°æ®)</h3><!--You may declare @Bean methods as static, allowing for them to be called without creating their containing configuration class as an instance. This makes particular sense when defining post-processor beans (for example, of type BeanFactoryPostProcessor or BeanPostProcessor), since such beans get initialized early in the container lifecycle and should avoid triggering other parts of the configuration at that point.-->
<p>æ‚¨å¯ä»¥å°†@Beanæ–¹æ³•å£°æ˜ä¸ºé™æ€æ–¹æ³•ï¼Œä»è€Œå…è®¸åœ¨ä¸å°†å…¶åŒ…å«é…ç½®ç±»åˆ›å»ºä¸ºå®ä¾‹çš„æƒ…å†µä¸‹è°ƒç”¨å®ƒä»¬ã€‚åœ¨å®šä¹‰åå¤„ç†å™¨Beanï¼ˆä¾‹å¦‚BeanFactoryPostProcessoræˆ–BeanPostProcessorç±»å‹ï¼‰æ—¶ï¼Œè¿™ç‰¹åˆ«æœ‰æ„ä¹‰ï¼Œå› ä¸ºæ­¤ç±»Beanåœ¨å®¹å™¨ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸè¿›è¡Œäº†åˆå§‹åŒ–ï¼Œå¹¶ä¸”åº”é¿å…åœ¨é‚£æ—¶è§¦å‘é…ç½®çš„å…¶ä»–éƒ¨åˆ†ã€‚</p>
<!--Calls to static @Bean methods never get intercepted by the container, not even within @Configuration classes (as described earlier in this section), due to technical limitations: CGLIB subclassing can override only non-static methods. As a consequence, a direct call to another @Bean method has standard Java semantics, resulting in an independent instance being returned straight from the factory method itself.-->
<p>ç”±äºæŠ€æœ¯é™åˆ¶ï¼Œå¯¹é™æ€@Beanæ–¹æ³•çš„è°ƒç”¨æ°¸è¿œä¸ä¼šè¢«å®¹å™¨æ‹¦æˆªï¼Œå³ä½¿åœ¨@Configurationç±»ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼ˆå¦‚æœ¬èŠ‚å‰é¢æ‰€è¿°ï¼‰ï¼Œç”±äºæŠ€æœ¯é™åˆ¶ï¼šCGLIBå­ç±»åªèƒ½è¦†ç›–éé™æ€æ–¹æ³•ã€‚ç»“æœï¼Œç›´æ¥è°ƒç”¨å¦ä¸€ä¸ª@Beanæ–¹æ³•å…·æœ‰æ ‡å‡†çš„Javaè¯­ä¹‰ï¼Œä»è€Œå¯¼è‡´ç›´æ¥ä»å·¥å‚æ–¹æ³•æœ¬èº«ç›´æ¥è¿”å›ä¸€ä¸ªç‹¬ç«‹çš„å®ä¾‹ã€‚</p>
<!--The Java language visibility of @Bean methods does not have an immediate impact on the resulting bean definition in Springâ€™s container. You can freely declare your factory methods as you see fit in non-@Configuration classes and also for static methods anywhere. However, regular @Bean methods in @Configuration classes need to be overridableâ€‰â€”â€‰that is, they must not be declared as private or final.-->
<p>@Beanæ–¹æ³•çš„Javaè¯­è¨€å¯è§æ€§ä¸ä¼šå¯¹Springå®¹å™¨ä¸­çš„æœ€ç»ˆbean definition äº§ç”Ÿç›´æ¥å½±å“ã€‚æ‚¨å¯ä»¥åœ¨é@Configurationç±»ä¸­è‡ªç”±å£°æ˜è‡ªå·±çš„å·¥å‚æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å£°æ˜é™æ€æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œ@ Configurationç±»ä¸­çš„å¸¸è§„@Beanæ–¹æ³•å¿…é¡»æ˜¯å¯é‡å†™çš„â€”å³ï¼Œä¸å¾—å°†å®ƒä»¬å£°æ˜ä¸ºprivateæˆ–finalã€‚</p>
<h3 id="Naming-Autodetected-Components-å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶"><a href="#Naming-Autodetected-Components-å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶" class="headerlink" title="Naming Autodetected Components(å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶)"></a>Naming Autodetected Components(å‘½åè‡ªåŠ¨æ£€æµ‹çš„ç»„ä»¶)</h3><!--When a component is autodetected as part of the scanning process, its bean name is generated by the `BeanNameGenerator` strategy known to that scanne-->
 <!--If you do not want to rely on the default bean-naming strategy, you can provide a custom bean-naming strategy. First, implement the `BeanNameGenerator` interface, and be sure to include a default no-arg constructor.--> 
<p>å½“åœ¨æ‰«æè¿‡ç¨‹ä¸­è‡ªåŠ¨æ£€æµ‹åˆ°ç»„ä»¶æ—¶ï¼Œå…¶beanåç§°ç”±è¯¥scanneå·²çŸ¥çš„<code>BeanNameGenerator</code>ç­–ç•¥ç”Ÿæˆã€‚</p>
<p>  å¦‚æœæ‚¨ä¸æƒ³ä¾èµ–é»˜è®¤çš„Beanå‘½åç­–ç•¥ï¼Œåˆ™å¯ä»¥æä¾›è‡ªå®šä¹‰Beanå‘½åç­–ç•¥ã€‚ é¦–å…ˆï¼Œå®ç°<code>BeanNameGenerator</code> æ¥å£ï¼Œå¹¶ç¡®ä¿åŒ…å«é»˜è®¤çš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚</p>
<h4 id="Providing-a-Scope-for-Autodetected-Components-æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ"><a href="#Providing-a-Scope-for-Autodetected-Components-æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ" class="headerlink" title="Providing a Scope for Autodetected Components(æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ)"></a>Providing a Scope for Autodetected Components(æä¾›è‡ªåŠ¨æ£€æµ‹ç»„ä»¶çš„ä½œç”¨åŸŸ)</h4><!--To provide a custom strategy for scope resolution rather than relying on the annotation-based approach, you can implement the ScopeMetadataResolver interface.
Be sure to include a default no-arg constructor.--> 
<p>è¦æä¾›ç”¨äºèŒƒå›´è§£æçš„è‡ªå®šä¹‰ç­–ç•¥ï¼Œè€Œä¸æ˜¯ä¾èµ–äºåŸºäºæ³¨é‡Šçš„æ–¹æ³•ï¼Œå¯ä»¥å®ç°ScopeMetadataResolveræ¥å£ã€‚<br>ç¡®ä¿åŒ…æ‹¬é»˜è®¤çš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚</p>
<h4 id="Providing-Qualifier-Metadata-with-Annotations"><a href="#Providing-Qualifier-Metadata-with-Annotations" class="headerlink" title="Providing Qualifier Metadata with Annotations"></a>P<del>roviding Qualifier Metadata with Annotations</del></h4><h4 id="Generating-an-Index-of-Candidate-Components-ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•"><a href="#Generating-an-Index-of-Candidate-Components-ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•" class="headerlink" title="Generating an Index of Candidate Components(ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•)"></a>Generating an Index of Candidate Components(ç”Ÿæˆå€™é€‰ç»„ä»¶çš„ç´¢å¼•)</h4><p>While classpath scanning is very fast, it is possible to improve the startup performance of large applications by creating a static list of candidates at compilation time. In this mode, all modules that are target of component scan must use this mechanism.</p>
<p>åŠ å¿«æ‰«æé€Ÿåº¦</p>
<h2 id="ğŸŒŸUsing-JSR-330-Standard-Annotations"><a href="#ğŸŒŸUsing-JSR-330-Standard-Annotations" class="headerlink" title="ğŸŒŸUsing JSR 330 Standard Annotations"></a>ğŸŒŸUsing JSR 330 Standard Annotations</h2><p>ğŸ”‘å…³é”®è¯: javax.inject ; @Inject; @Named</p>
<h3 id="Dependency-Injection-with-Inject-and-Named"><a href="#Dependency-Injection-with-Inject-and-Named" class="headerlink" title="Dependency Injection with @Inject and @Named"></a>Dependency Injection with <code>@Inject</code> and <code>@Named</code></h3><p>If you would like to use a qualified name for the dependency that should be injected, you should use the <code>@Named</code> annotation</p>
<p>å¦‚æœæ‚¨æƒ³å¯¹æ³¨å…¥çš„ä¾èµ–é¡¹ä½¿ç”¨é™å®šåç§°ï¼Œåˆ™åº”ä½¿ç”¨@Namedæ³¨è§£</p>
<h3 id="Named-and-ManagedBean-Standard-Equivalents-to-the-Component-Annotation-Componentæ³¨è§£çš„æ¯”è¾ƒ"><a href="#Named-and-ManagedBean-Standard-Equivalents-to-the-Component-Annotation-Componentæ³¨è§£çš„æ¯”è¾ƒ" class="headerlink" title="@Named and @ManagedBean: Standard Equivalents to the @Component Annotation(@Componentæ³¨è§£çš„æ¯”è¾ƒ)"></a>@Named and @ManagedBean: Standard Equivalents to the @Component Annotation(@Componentæ³¨è§£çš„æ¯”è¾ƒ)</h3><!--In contrast to @Component, the JSR-330 @Named and the JSR-250 ManagedBean annotations are not composable.--> 
<!--You should use Springâ€™s stereotype model for building custom component annotations.-->
<p>ä¸@Componentç›¸åï¼ŒJSR-330 @Namedå’ŒJSR-250 ManagedBeanæ³¨é‡Šæ˜¯ä¸å¯ç»„åˆçš„ã€‚</p>
<p>æ‚¨åº”è¯¥ä½¿ç”¨Springçš„åŸå‹æ¨¡å‹æ¥æ„å»ºè‡ªå®šä¹‰ç»„ä»¶æ³¨é‡Šã€‚</p>
<h3 id="Limitations-of-JSR-330-Standard-Annotations"><a href="#Limitations-of-JSR-330-Standard-Annotations" class="headerlink" title="Limitations of JSR-330 Standard Annotations"></a>Limitations of JSR-330 Standard Annotations</h3><table>
<thead>
<tr>
<th style="text-align:left">Spring</th>
<th style="text-align:left">javax.inject.*</th>
<th style="text-align:left">javax.inject restrictions / comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@Autowired</td>
<td style="text-align:left">@Inject</td>
<td style="text-align:left"><code>@Inject</code> has no â€˜requiredâ€™ attribute. Can be used with Java 8â€™s <code>Optional</code> instead.</td>
</tr>
<tr>
<td style="text-align:left">@Component</td>
<td style="text-align:left">@Named / @ManagedBean</td>
<td style="text-align:left">JSR-330 does not provide a composable model, only a way to identify named components.</td>
</tr>
<tr>
<td style="text-align:left">@Scope(â€œsingletonâ€)</td>
<td style="text-align:left">@Singleton</td>
<td style="text-align:left">The JSR-330 default scope is like Springâ€™s <code>prototype</code>. However, in order to keep it consistent with Springâ€™s general defaults, a JSR-330 bean declared in the Spring container is a <code>singleton</code> by default. In order to use a scope other than <code>singleton</code>, you should use Springâ€™s <code>@Scope</code> annotation. <code>javax.inject</code> also provides a <a href="https://download.oracle.com/javaee/6/api/javax/inject/Scope.html" target="_blank" rel="noopener">@Scope</a> annotation. Nevertheless, this one is only intended to be used for creating your own annotations.</td>
</tr>
<tr>
<td style="text-align:left">@Qualifier</td>
<td style="text-align:left">@Qualifier / @Named</td>
<td style="text-align:left"><code>javax.inject.Qualifier</code> is just a meta-annotation for building custom qualifiers. Concrete <code>String</code> qualifiers (like Springâ€™s <code>@Qualifier</code> with a value) can be associated through <code>javax.inject.Named</code>.</td>
</tr>
<tr>
<td style="text-align:left">@Value</td>
<td style="text-align:left">-</td>
<td style="text-align:left">no equivalent</td>
</tr>
<tr>
<td style="text-align:left">@Required</td>
<td style="text-align:left">-</td>
<td style="text-align:left">no equivalent</td>
</tr>
<tr>
<td style="text-align:left">@Lazy</td>
<td style="text-align:left">-</td>
<td style="text-align:left">no equivalent</td>
</tr>
<tr>
<td style="text-align:left">ObjectFactory</td>
<td style="text-align:left">Provider</td>
<td style="text-align:left"><code>javax.inject.Provider</code> is a direct alternative to Springâ€™s <code>ObjectFactory</code>, only with a shorter <code>get()</code> method name. It can also be used in combination with Springâ€™s <code>@Autowired</code> or with non-annotated constructors and setter methods.</td>
</tr>
</tbody>
</table>
<h2 id="ğŸŒŸJava-based-Container-Configuration-åŸºäºJavaçš„å®¹å™¨é…ç½®"><a href="#ğŸŒŸJava-based-Container-Configuration-åŸºäºJavaçš„å®¹å™¨é…ç½®" class="headerlink" title="ğŸŒŸJava-based Container Configuration(åŸºäºJavaçš„å®¹å™¨é…ç½®)"></a>ğŸŒŸJava-based Container Configuration(åŸºäºJavaçš„å®¹å™¨é…ç½®)</h2><p>ğŸ”‘å…³é”®è¯: @Bean; @Configuration;AnnotationConfigApplicationContext;lite vs full;@Import; @ImportResource;@Condition</p>
<p>This section covers how to use annotations in your Java code to configure the Spring container. It includes the following topics:</p>
<ul>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-java-basic-concepts" target="_blank" rel="noopener">Basic Concepts: <code>@Bean</code> and <code>@Configuration</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-java-instantiating-container" target="_blank" rel="noopener">Instantiating the Spring Container by Using <code>AnnotationConfigApplicationContext</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-java-bean-annotation" target="_blank" rel="noopener">Using the <code>@Bean</code> Annotation</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-java-configuration-annotation" target="_blank" rel="noopener">Using the <code>@Configuration</code> annotation</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-java-composing-configuration-classes" target="_blank" rel="noopener">Composing Java-based Configurations</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-definition-profiles" target="_blank" rel="noopener">Bean Definition Profiles</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-property-source-abstraction" target="_blank" rel="noopener"><code>PropertySource</code> Abstraction</a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-using-propertysource" target="_blank" rel="noopener">Using <code>@PropertySource</code></a></li>
<li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-placeholder-resolution-in-statements" target="_blank" rel="noopener">Placeholder Resolution in Statements</a></li>
</ul>
<h3 id="Basic-Concepts-Bean-and-Configuration"><a href="#Basic-Concepts-Bean-and-Configuration" class="headerlink" title="Basic Concepts: @Bean and @Configuration"></a>Basic Concepts: <code>@Bean</code> and <code>@Configuration</code></h3><!--Annotating a class with `@Configuration` indicates that its primary purpose is as a source of bean definitions. Furthermore, `@Configuration` classes let inter-bean dependencies be defined by calling other `@Bean` methods in the same class.-->
<p>@Configuration: ç”¨@Configurationæ³¨é‡Šç±»è¡¨ç¤ºè¯¥ç±»çš„ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºBeanå®šä¹‰çš„æ¥æºã€‚ æ­¤å¤–ï¼Œ@Configurationç±»å…è®¸é€šè¿‡è°ƒç”¨åŒä¸€ç±»ä¸­çš„å…¶ä»–@Beanæ–¹æ³• æ¥å®šä¹‰Beané—´çš„ä¾èµ–å…³ç³»ã€‚</p>
<p>@Bean : Indicates that a method produces a bean to be managed by the Spring container.</p>
<p><strong>Full @Configuration vs â€œliteâ€ @Bean mode?</strong></p>
<p>åœ¨<code>lite @Bean mode</code>æ¨¡å¼ä¸‹ï¼Œ <code>@Bean</code>æ–¹æ³•ä¸ä¼šè¢«CGLIBä»£ç† ,æ‰€ä»¥å°½é‡ä½¿ç”¨Full @Configurationæ¨¡å¼</p>
<h3 id="Instantiating-the-Spring-Container-by-Using-AnnotationConfigApplicationContext"><a href="#Instantiating-the-Spring-Container-by-Using-AnnotationConfigApplicationContext" class="headerlink" title="Instantiating the Spring Container by Using AnnotationConfigApplicationContext"></a>Instantiating the Spring Container <strong>by</strong> Using AnnotationConfigApplicationContext</h3><!--This versatile `ApplicationContext` implementation is capable of accepting not only `@Configuration` classes as input but also plain `@Component` classes and classes annotated with JSR-330 metadata.-->
<p>è¿™ç§é€šç”¨çš„ApplicationContextå®ç°ä¸ä»…èƒ½å¤Ÿæ¥å—@Configurationç±»ä½œä¸ºè¾“å…¥ï¼Œ</p>
<p>è€Œä¸”è¿˜å¯ä»¥æ¥å—æ™®é€šçš„@Componentç±»å’Œå¸¦æœ‰JSR-330å…ƒæ•°æ®æ³¨é‡Šçš„ç±»ã€‚</p>
<p><strong>scan &amp; register</strong></p>
<pre><code class="java">package org.springframework.context.annotation;

/**
 * Common interface for annotation config application contexts,
 * defining {@link #register} and {@link #scan} methods.
 *
 * @author Juergen Hoeller
 * @since 4.1
 */
public interface AnnotationConfigRegistry {

   /**
    * Register one or more annotated classes to be processed.
    * &lt;p&gt;Calls to {@code register} are idempotent; adding the same
    * annotated class more than once has no additional effect.
    * @param annotatedClasses one or more annotated classes,
    * e.g. {@link Configuration @Configuration} classes
    */
   void register(Class&lt;?&gt;... annotatedClasses);

   /**
    * Perform a scan within the specified base packages.
    * @param basePackages the packages to check for annotated classes
    */
   void scan(String... basePackages);

}
</code></pre>
<p>more details: @see org.springframework.context.annotation.AnnotationConfigApplicationContext</p>
<p><strong>Support for Web Applications with <code>AnnotationConfigWebApplicationContext</code></strong></p>
<h3 id="Using-the-Bean-Annotation"><a href="#Using-the-Bean-Annotation" class="headerlink" title="Using the @Bean Annotation"></a>Using the <code>@Bean</code> Annotation</h3><ul>
<li>Declaring a Bean</li>
<li>Bean Dependencies</li>
<li>Receiving Lifecycle Callbacks</li>
<li>Specifying Bean Scope</li>
<li>Customizing Bean Naming</li>
<li>Bean Aliasing</li>
<li>Bean Description</li>
</ul>
<p>@see org.springframework.context.annotation.Bean</p>
<h3 id="Using-the-Configuration-annotation"><a href="#Using-the-Configuration-annotation" class="headerlink" title="Using the @Configuration annotation"></a>Using the <code>@Configuration</code> annotation</h3><p><strong>Injecting Inter-bean Dependencies(æ³¨å…¥beané—´çš„ä¾èµ–å…³ç³»)</strong></p>
<p><strong>Lookup Method Injection</strong></p>
<p><strong>Further Information About How Java-based Configuration Works Internally</strong></p>
<!--This is where the magic comes in: All `@Configuration` classes are subclassed at startup-time with `CGLIB`.In the subclass, the child method checks the container first for any cached (scoped) beans before it calls the parent method and creates a new instance-->
<h3 id="Composing-Java-based-Configurations"><a href="#Composing-Java-based-Configurations" class="headerlink" title="Composing Java-based Configurations"></a>Composing Java-based Configurations</h3><h3 id="Using-the-Import-Annotation"><a href="#Using-the-Import-Annotation" class="headerlink" title="Using the @Import Annotation"></a>Using the <code>@Import</code> Annotation</h3><!--As of Spring Framework 4.2, `@Import` also supports references to regular component classes, analogous to the `AnnotationConfigApplicationContext.register` method.--> 
<!--This is particularly useful if you want to avoid component scanning, by using a few configuration classes as entry points to explicitly define all your components.-->
<p>ä»Spring Framework 4.2å¼€å§‹ï¼Œ@ Importè¿˜æ”¯æŒå¯¹å¸¸è§„ç»„ä»¶ç±»çš„å¼•ç”¨ï¼Œç±»ä¼¼äºAnnotationConfigApplicationContext.registeræ–¹æ³•ã€‚ </p>
<p>å¦‚æœè¦é€šè¿‡ä½¿ç”¨ä¸€äº›é…ç½®ç±»ä½œä¸ºå…¥å£ç‚¹æ¥æ˜¾å¼å®šä¹‰æ‰€æœ‰ç»„ä»¶ï¼Œä»è€Œé¿å…ç»„ä»¶æ‰«æï¼Œåˆ™æ­¤åŠŸèƒ½ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<h3 id="Conditionally-Include-Configuration-Classes-or-Bean-Methods"><a href="#Conditionally-Include-Configuration-Classes-or-Bean-Methods" class="headerlink" title="Conditionally Include @Configuration Classes or @Bean Methods"></a>Conditionally Include <code>@Configuration</code> Classes or <code>@Bean</code> Methods</h3><p>The <code>@Profile</code> annotation is actually implemented by using a much more flexible annotation called <a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/context/annotation/Conditional.html" target="_blank" rel="noopener"><code>@Conditional</code></a>. </p>
<p>The <code>@Conditional</code> annotation indicates specific <code>org.springframework.context.annotation.Condition</code> implementations that should be consulted before a <code>@Bean</code> is registered.</p>
<p><strong>@Profile</strong></p>
<pre><code class="java">@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Conditional(ProfileCondition.class)
public @interface Profile {

    /**
     * The set of profiles for which the annotated component should be registered.
     */
    String[] value();

}

</code></pre>
<p><strong>ProfileCondition</strong></p>
<pre><code class="java">class ProfileCondition implements Condition {
  @Override
  public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {
    MultiValueMap&lt;String, Object&gt; attrs = metadata.getAllAnnotationAttributes(Profile.class.getName());
    if (attrs != null) {
      for (Object value : attrs.get(&quot;value&quot;)) {
        if (context.getEnvironment().acceptsProfiles(Profiles.of((String[]) value))) {
          return true;
        }
      }
      return false;
    }
    return true;
  }
}
</code></pre>
<p><strong>Condition</strong></p>
<pre><code class="java">@FunctionalInterface
public interface Condition {

   /**
    * Determine if the condition matches.
    * @param context the condition context
    * @param metadata metadata of the {@link org.springframework.core.type.AnnotationMetadata class}
    * or {@link org.springframework.core.type.MethodMetadata method} being checked
    * @return {@code true} if the condition matches and the component can be registered,
    * or {@code false} to veto the annotated component&#39;s registration
    */
   boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata);

}
</code></pre>
<h3 id="Combining-Java-and-XML-Configuration"><a href="#Combining-Java-and-XML-Configuration" class="headerlink" title="Combining Java and XML Configuration"></a>Combining Java and XML Configuration</h3><p>Springâ€™s <code>@Configuration</code> class support does not aim to be a 100% complete replacement for Spring XML.</p>
<h4 id="XML-centric-Use-of-Configuration-Classes"><a href="#XML-centric-Use-of-Configuration-Classes" class="headerlink" title="XML-centric Use of @Configuration Classes"></a>XML-centric Use of <code>@Configuration</code> Classes</h4><p><strong>Declaring @Configuration classes as plain Spring &lt;bean/ &gt; elements</strong></p>
<pre><code class="xml">&lt;!-- enable processing of annotations such as @Autowired and @Configuration --&gt;
&lt;context:annotation-config/&gt;
&lt;bean class=&quot;com.acme.AppConfig&quot;/&gt;
</code></pre>
<p>&lt;context:annotation-config /&gt; <strong>ä»…èƒ½å¤Ÿåœ¨å·²ç»åœ¨å·²ç»æ³¨å†Œè¿‡çš„beanä¸Šé¢èµ·ä½œç”¨,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ³¨å†Œ</strong></p>
<p>Using &lt;context:component-scan/ &gt; to pick up @Configuration classes**</p>
<pre><code class="xml">&lt;!-- picks up and registers AppConfig as a bean definition --&gt;
 &lt;context:component-scan base-package=&quot;com.acme&quot;/&gt;
</code></pre>
<h4 id="ConfigurationClass-centric-Use-of-XML-with-ImportResource"><a href="#ConfigurationClass-centric-Use-of-XML-with-ImportResource" class="headerlink" title="@ConfigurationClass-centric Use of XML with@ImportResource"></a>@Configuration<code>Class-centric Use of XML with</code>@ImportResource</h4><p><strong>@ImportResource</strong></p>
<pre><code class="java">@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
@Documented
public @interface ImportResource {

    /**
     * Alias for {@link #locations}.
     * @see #locations
     * @see #reader
     */
    @AliasFor(&quot;locations&quot;)
    String[] value() default {};

    /**
     * Resource locations from which to import.
     * &lt;p&gt;Supports resource-loading prefixes such as {@code classpath:},
     * {@code file:}, etc.
     * &lt;p&gt;Consult the Javadoc for {@link #reader} for details on how resources
     * will be processed.
     * @since 4.2
     * @see #value
     * @see #reader
     */
    @AliasFor(&quot;value&quot;)
    String[] locations() default {};

    /**
     * {@link BeanDefinitionReader} implementation to use when processing
     * resources specified via the {@link #value} attribute.
     * &lt;p&gt;By default, the reader will be adapted to the resource path specified:
     * {@code &quot;.groovy&quot;} files will be processed with a
     * {@link org.springframework.beans.factory.groovy.GroovyBeanDefinitionReader GroovyBeanDefinitionReader};
     * whereas, all other resources will be processed with an
     * {@link org.springframework.beans.factory.xml.XmlBeanDefinitionReader XmlBeanDefinitionReader}.
     * @see #value
     */
    Class&lt;? extends BeanDefinitionReader&gt; reader() default BeanDefinitionReader.class;

}
</code></pre>
<h2 id="ğŸŒŸEnvironment-Abstraction-ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰"><a href="#ğŸŒŸEnvironment-Abstraction-ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰" class="headerlink" title="ğŸŒŸEnvironment Abstraction ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰"></a>ğŸŒŸEnvironment Abstraction ï¼ˆç¯å¢ƒæŠ½è±¡ï¼‰</h2><p>ğŸ”‘å…³é”®è¯: Environment; profiles; properties;PropertySources;PropertySourcesPlaceholderConfigurer</p>
<p>The <a href="https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/env/Environment.html" target="_blank" rel="noopener"><code>Environment</code></a> interface is an abstraction integrated in the container that models two key aspects of the application environment: <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-definition-profiles" target="_blank" rel="noopener">profiles</a> and <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-property-source-abstraction" target="_blank" rel="noopener">properties</a>.</p>
<p>Environmentæ¥å£æ˜¯é›†æˆåœ¨å®¹å™¨ä¸­çš„æŠ½è±¡ï¼Œå®ƒå¯¹åº”ç”¨ç¨‹åºç¯å¢ƒçš„ä¸¤ä¸ªå…³é”®æ–¹é¢è¿›è¡Œå»ºæ¨¡ï¼šprofileså’Œproperties</p>
<p>A profile is a named, logical group of bean definitions to be registered with the container only if the given profile is active. Beans may be assigned to a profile whether defined in XML or with annotations. </p>
<p>The role of the <code>Environment</code> object with relation to profiles is in determining which profiles (if any) are currently active, and which profiles (if any) should be active by default.</p>
<p>Properties play an important role in almost all applications and may originate from a variety of sources: properties files, JVM system properties, system environment variables, JNDI, servlet context parameters, ad-hoc <code>Properties</code> objects, <code>Map</code> objects, and so on.</p>
<p> The role of the <code>Environment</code> object with relation to properties is to provide the user with a convenient service interface for configuring property sources and resolving properties from them.</p>
<h3 id="Bean-Definition-Profiles"><a href="#Bean-Definition-Profiles" class="headerlink" title="Bean Definition Profiles"></a>Bean Definition Profiles</h3><h4 id="Using-Profile"><a href="#Using-Profile" class="headerlink" title="Using @Profile"></a>Using <code>@Profile</code></h4><h4 id="XML-Bean-Definition-Profiles"><a href="#XML-Bean-Definition-Profiles" class="headerlink" title="XML Bean Definition Profiles"></a>XML Bean Definition Profiles</h4><h4 id="Activating-a-Profile"><a href="#Activating-a-Profile" class="headerlink" title="Activating a Profile"></a>Activating a Profile</h4><p>spring.profiles.active</p>
<h4 id="Default-Profile"><a href="#Default-Profile" class="headerlink" title="Default Profile"></a>Default Profile</h4><p>default</p>
<h3 id="PropertySource-Abstraction"><a href="#PropertySource-Abstraction" class="headerlink" title="PropertySource Abstraction"></a><code>PropertySource</code> Abstraction</h3><p>For a common <code>StandardServletEnvironment</code>, the full hierarchy is as follows, with the highest-precedence entries at the top:</p>
<ul>
<li>ServletConfig parameters (if applicableâ€‰â€”â€‰for example, in case of a <code>DispatcherServlet</code> context)</li>
<li>ServletContext parameters (web.xml context-param entries)</li>
<li>JNDI environment variables (<code>java:comp/env/</code> entries)</li>
<li>JVM system properties (<code>-D</code> command-line arguments)</li>
<li>JVM system environment (operating system environment variables)</li>
</ul>
<pre><code class="java">ConfigurableApplicationContext ctx = new GenericApplicationContext();
MutablePropertySources sources = ctx.getEnvironment().getPropertySources();
</code></pre>
<h3 id="Using-PropertySource"><a href="#Using-PropertySource" class="headerlink" title="Using @PropertySource"></a>Using <code>@PropertySource</code></h3><p>The <a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySource.html" target="_blank" rel="noopener"><code>@PropertySource</code></a> annotation provides a convenient and declarative mechanism for adding a <code>PropertySource</code> to Springâ€™s <code>Environment</code>.</p>
<h3 id="Placeholder-Resolution-in-Statements"><a href="#Placeholder-Resolution-in-Statements" class="headerlink" title="Placeholder Resolution in Statements"></a>Placeholder Resolution in Statements</h3><p>Historically, the value of placeholders in elements could be resolved only against JVM system properties or environment variables. This is no longer the case.</p>
<p>Because the <code>Environment</code> abstraction is integrated throughout the container, it is easy to route resolution of placeholders through it. </p>
<p>This means that you may configure the resolution process in any way you like.</p>
<p> You can change the precedence of searching through system properties and environment variables or remove them entirely.</p>
<p>@See org.springframework.context.support.PropertySourcesPlaceholderConfigurer</p>
<h2 id="ğŸŒŸRegistering-a-LoadTimeWeaver"><a href="#ğŸŒŸRegistering-a-LoadTimeWeaver" class="headerlink" title="ğŸŒŸRegistering a LoadTimeWeaver"></a><del>ğŸŒŸRegistering a <code>LoadTimeWeaver</code></del></h2><p>weaving(ç¼–ç»‡ ç¼–è¯‘æ—¶ã€åŠ è½½æ—¶ã€è¿è¡Œæ—¶) è¿™é‡Œæ˜¯ç±»åŠ è½½æ—¶</p>
<p>The <code>LoadTimeWeaver</code> is used by Spring to dynamically transform classes as they are loaded into the Java virtual machine (JVM).</p>
<p>@See <a href="https://www.cnblogs.com/wade-luffy/p/6073702.html" target="_blank" rel="noopener">https://www.cnblogs.com/wade-luffy/p/6073702.html</a></p>
<h2 id="ğŸŒŸAdditional-Capabilities-of-the-ApplicationContext-BeanFactoryçš„æ‰©å±•"><a href="#ğŸŒŸAdditional-Capabilities-of-the-ApplicationContext-BeanFactoryçš„æ‰©å±•" class="headerlink" title="ğŸŒŸAdditional Capabilities of the ApplicationContext (BeanFactoryçš„æ‰©å±•)"></a>ğŸŒŸAdditional Capabilities of the <code>ApplicationContext</code> (BeanFactoryçš„æ‰©å±•)</h2><p>ğŸ”‘å…³é”®è¯:BeanFactory;ResourceLoader;MessageSource;ResourceBundleMessageSource;Environment;EventPublisher;</p>
<p>@EventListener;ContextLoaderListener;</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g949aex83ij31d80fotac.jpg" alt="image-20191120093906082"></p>
<p>To enhance <code>BeanFactory</code> functionality in a more framework-oriented style, the context package also provides the following functionality:</p>
<ul>
<li>Access to messages in i18n-style, through the <code>MessageSource</code> interface.</li>
<li>Access to resources, such as URLs and files, through the <code>ResourceLoader</code> interface.</li>
<li>Event publication, namely to beans that implement the <code>ApplicationListener</code> interface, through the use of the <code>ApplicationEventPublisher</code> interface.</li>
<li>Loading of multiple (hierarchical) contexts, letting each be focused on one particular layer, such as the web layer of an application, through the <code>HierarchicalBeanFactory</code> interface.</li>
</ul>
<h3 id="Internationalization-using-MessageSource"><a href="#Internationalization-using-MessageSource" class="headerlink" title="Internationalization using MessageSource"></a>Internationalization using <code>MessageSource</code></h3><h3 id="Standard-and-Custom-Events"><a href="#Standard-and-Custom-Events" class="headerlink" title="Standard and Custom Events"></a>Standard and Custom Events</h3><table>
<thead>
<tr>
<th style="text-align:left">Event</th>
<th style="text-align:left">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>ContextRefreshedEvent</code></td>
<td style="text-align:left">Published when the <code>ApplicationContext</code> is initialized or refreshed (for example, by using the <code>refresh()</code> method on the <code>ConfigurableApplicationContext</code> interface). Here, â€œinitializedâ€ means that all beans are loaded, post-processor beans are detected and activated, singletons are pre-instantiated, and the <code>ApplicationContext</code> object is ready for use. As long as the context has not been closed, a refresh can be triggered multiple times, provided that the chosen <code>ApplicationContext</code> actually supports such â€œhotâ€ refreshes. For example, <code>XmlWebApplicationContext</code> supports hot refreshes, but <code>GenericApplicationContext</code> does not.</td>
</tr>
<tr>
<td style="text-align:left"><code>ContextStartedEvent</code></td>
<td style="text-align:left">Published when the <code>ApplicationContext</code> is started by using the <code>start()</code> method on the <code>ConfigurableApplicationContext</code> interface. Here, â€œstartedâ€ means that all <code>Lifecycle</code> beans receive an explicit start signal. Typically, this signal is used to restart beans after an explicit stop, but it may also be used to start components that have not been configured for autostart (for example, components that have not already started on initialization).</td>
</tr>
<tr>
<td style="text-align:left"><code>ContextStoppedEvent</code></td>
<td style="text-align:left">Published when the <code>ApplicationContext</code> is stopped by using the <code>stop()</code> method on the <code>ConfigurableApplicationContext</code> interface. Here, â€œstoppedâ€ means that all <code>Lifecycle</code> beans receive an explicit stop signal. A stopped context may be restarted through a <code>start()</code> call.</td>
</tr>
<tr>
<td style="text-align:left"><code>ContextClosedEvent</code></td>
<td style="text-align:left">Published when the <code>ApplicationContext</code> is being closed by using the <code>close()</code> method on the <code>ConfigurableApplicationContext</code> interface or via a JVM shutdown hook. Here, â€œclosedâ€ means that all singleton beans will be destroyed. Once the context is closed, it reaches its end of life and cannot be refreshed or restarted.</td>
</tr>
<tr>
<td style="text-align:left"><code>RequestHandledEvent</code></td>
<td style="text-align:left">A web-specific event telling all beans that an HTTP request has been serviced. This event is published after the request is complete. This event is only applicable to web applications that use Springâ€™s <code>DispatcherServlet</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>ServletRequestHandledEvent</code></td>
<td style="text-align:left">A subclass of <code>RequestHandledEvent</code> that adds Servlet-specific context information.</td>
</tr>
</tbody>
</table>
<h4 id="Annotation-based-Event-Listeners"><a href="#Annotation-based-Event-Listeners" class="headerlink" title="Annotation-based Event Listeners"></a>Annotation-based Event Listeners</h4><p> As of Spring 4.2, the event infrastructure has been significantly improved and offers an <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#context-functionality-events-annotation" target="_blank" rel="noopener">annotation-based model</a> as well as the ability to publish any arbitrary event (that is, an object that does not necessarily extend from <code>ApplicationEvent</code>). When such an object is published, we wrap it in an event for you.</p>
<h4 id="Asynchronous-Listeners"><a href="#Asynchronous-Listeners" class="headerlink" title="Asynchronous Listeners"></a>Asynchronous Listeners</h4><p>Be aware of the following limitations when using asynchronous events:</p>
<ul>
<li>If an asynchronous event listener throws an <code>Exception</code>, it is not propagated to the caller. See <code>AsyncUncaughtExceptionHandler</code> for more details.</li>
<li>Asynchronous event listener methods cannot publish a subsequent event by returning a value. If you need to publish another event as the result of the processing, inject an <a href="https://docs.spring.io/spring-framework/docs/5.2.1.RELEASE/javadoc-api/org/springframework/aop/interceptor/AsyncUncaughtExceptionHandler.html" target="_blank" rel="noopener"><code>ApplicationEventPublisher</code></a> to publish the event manually.</li>
</ul>
<h4 id="Ordering-Listeners"><a href="#Ordering-Listeners" class="headerlink" title="Ordering Listeners"></a>Ordering Listeners</h4><p>@Order</p>
<h4 id="Generic-Events"><a href="#Generic-Events" class="headerlink" title="Generic Events"></a><del>Generic Events</del></h4><p>@see org.springframework.core.ResolvableTypeProvider</p>
<h3 id="Convenient-Access-to-Low-level-Resources"><a href="#Convenient-Access-to-Low-level-Resources" class="headerlink" title="Convenient Access to Low-level Resources"></a>Convenient Access to Low-level Resources</h3><p>An application context is a <code>ResourceLoader</code>, which can be used to load <code>Resource</code> objects. A <code>Resource</code> is essentially a more feature rich version of the JDK <code>java.net.URL</code> class</p>
<h3 id="Convenient-ApplicationContext-Instantiation-for-Web-Applications"><a href="#Convenient-ApplicationContext-Instantiation-for-Web-Applications" class="headerlink" title="Convenient ApplicationContext Instantiation for Web Applications"></a>Convenient ApplicationContext Instantiation for Web Applications</h3><p>You can register an <code>ApplicationContext</code> by using the <code>ContextLoaderListener</code></p>
<pre><code class="xml">&lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;/WEB-INF/daoContext.xml /WEB-INF/applicationContext.xml&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;
</code></pre>
<h3 id="Deploying-a-Spring-ApplicationContext-as-a-Java-EE-RAR-File"><a href="#Deploying-a-Spring-ApplicationContext-as-a-Java-EE-RAR-File" class="headerlink" title="Deploying a Spring ApplicationContext as a Java EE RAR File"></a>Deploying a Spring <code>ApplicationContext</code> as a Java EE RAR File</h3><p>Such RAR deployment units are usually self-contained. They do not expose components to the outside world, not even to other modules of the same application. </p>
<h2 id="ğŸŒŸThe-BeanFactory"><a href="#ğŸŒŸThe-BeanFactory" class="headerlink" title="ğŸŒŸThe BeanFactory"></a>ğŸŒŸThe <code>BeanFactory</code></h2><p>ğŸ”‘å…³é”®è¯: DefaultListableBeanFactory ; extensions</p>
<p>Note that the core <code>BeanFactory</code> API level and its <code>DefaultListableBeanFactory</code> implementation do not make assumptions about the configuration format or any component annotations to be used. All of these flavors come in through extensions (such as <code>XmlBeanDefinitionReader</code> and <code>AutowiredAnnotationBeanPostProcessor</code>) and operate on shared <code>BeanDefinition</code> objects as a core metadata representation.</p>
<p> This is the essence of what makes Springâ€™s container so flexible and extensible.</p>
<h3 id="BeanFactory-or-ApplicationContext"><a href="#BeanFactory-or-ApplicationContext" class="headerlink" title="BeanFactory or ApplicationContext?"></a><code>BeanFactory</code> or <code>ApplicationContext</code>?</h3><p>For many extended container features, such as annotation processing and AOP proxying, the <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans-factory-extension-bpp" target="_blank" rel="noopener"><code>BeanPostProcessor</code> extension point</a> is essential. </p>
<p>If you use only a plain <code>DefaultListableBeanFactory</code>, such post-processors do not get detected and activated by default. This situation could be confusing, because nothing is actually wrong with your bean configuration. </p>
<p>Rather, in such a scenario, the container needs to be fully bootstrapped through additional setup.</p>
<p>The following table lists features provided by the <code>BeanFactory</code> and <code>ApplicationContext</code> interfaces and implementations.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Feature</th>
<th style="text-align:left"><code>BeanFactory</code></th>
<th style="text-align:left"><code>ApplicationContext</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Bean instantiation/wiring</td>
<td style="text-align:left">Yes</td>
<td style="text-align:left">Yes</td>
</tr>
<tr>
<td style="text-align:left">Integrated lifecycle management</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Yes</td>
</tr>
<tr>
<td style="text-align:left">Automatic <code>BeanPostProcessor</code> registration</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Yes</td>
</tr>
<tr>
<td style="text-align:left">Automatic <code>BeanFactoryPostProcessor</code> registration</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Yes</td>
</tr>
<tr>
<td style="text-align:left">Convenient <code>MessageSource</code> access (for internalization)</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Yes</td>
</tr>
<tr>
<td style="text-align:left">Built-in <code>ApplicationEvent</code> publication mechanism</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Yes</td>
</tr>
</tbody>
</table>
<h2 id="æ€»è§ˆ"><a href="#æ€»è§ˆ" class="headerlink" title="æ€»è§ˆ"></a>æ€»è§ˆ</h2><p>é¡¶çº§æ¥å£</p>
<ul>
<li>BeanFactory <ul>
<li>bean (beanDefined); </li>
<li>çŠ¶æ€(ä½œç”¨åŸŸ)/è¡Œä¸º(å›è°ƒ,bean extends)/å…³ç³»(ä¾èµ–) </li>
<li>contains extension (BPF/BBPF/FactoryBean)</li>
</ul>
</li>
<li>ApplicationContext <ul>
<li>Messagesource</li>
<li>Event</li>
<li>layer (AOP /web /auto registration )</li>
</ul>
</li>
</ul>
<p> Core (core/asm/cglib/util) </p>
<ul>
<li>Env</li>
<li>IO</li>
<li>Type : Core support package for type introspection.(å†…çœ)</li>
<li><p>@AliasFor / @Order</p>
<p>Annotaion(2.5 / 3.0/ 4.0/ 5.0)</p>
</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 951488791@qq.com </span>
    </div>
</article>



<div class="article_copyright">
    <p><span class="copy-title">æ–‡ç« æ ‡é¢˜:</span>Documentation-Spring_Core_IOC</p>
    <p><span class="copy-title">æ–‡ç« å­—æ•°:</span><span class="post-count">11.4k</span></p>
    <p><span class="copy-title">æœ¬æ–‡ä½œè€…:</span><a href="javascript:void(0)" title="zhengyumin">zhengyumin</a></p>
    <p><span class="copy-title">å‘å¸ƒæ—¶é—´:</span>2019-10-29, 21:51:07</p>
    <p><span class="copy-title">æœ€åæ›´æ–°:</span>2019-12-22, 17:31:36</p>
    <span class="copy-title">åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2019/10/29/Documentation-Spring-Core-IOC/" title="Documentation-Spring_Core_IOC">http://yoursite.com/2019/10/29/Documentation-Spring-Core-IOC/</a>
    <p>
        <span class="copy-title">ç‰ˆæƒå£°æ˜:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
    </p>
</div>





    




    </div>
    <div class="copyright">
        <p class="footer-entry">Â©2016-2019 zhengyumin</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">ç›®å½•</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

</body>
<script src="/js/jquery.pjax.js?v=1.0.1"></script>

<script src="/js/script.js?v=1.0.1"></script>
<script>
    var img_resize = 'default';
    /*ä½œè€…ã€æ ‡ç­¾çš„è‡ªåŠ¨è¡¥å…¨*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#week','#hide','#jdk','#packages','#utils','#java','#note','#jvm','#distributed','#kafka','#framework','#netty','#nio','#zookeeper','#redis','#Spec','#thread','#spring','#tomcat','#mysql','#juc','#classLoader','#hotspot','#j2ee','#summary','#lang','#elasticsearch','#servlet','#io','#serialization','#file','#ejb','#gc','#collections','#map','#doc','#spring-mvc','#spring-webflux',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
