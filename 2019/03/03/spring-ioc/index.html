<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="阅读的目的？我想要从中获得什么？ ​    spring按模块总结 ，ioc和aop是spring的核心">
<meta name="keywords" content="spring,ioc">
<meta property="og:type" content="article">
<meta property="og:title" content="spring-ioc">
<meta property="og:url" content="http://yoursite.com/2019/03/03/spring-ioc/index.html">
<meta property="og:site_name" content="Zyumin">
<meta property="og:description" content="阅读的目的？我想要从中获得什么？ ​    spring按模块总结 ，ioc和aop是spring的核心">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tKfTcgy1g0prh3oklzj31tk0qq781.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tKfTcgy1g0prtjnknbj31wk0rkgp4.jpg">
<meta property="og:updated_time" content="2019-03-23T08:10:45.635Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="spring-ioc">
<meta name="twitter:description" content="阅读的目的？我想要从中获得什么？ ​    spring按模块总结 ，ioc和aop是spring的核心">
<meta name="twitter:image" content="https://ws3.sinaimg.cn/large/006tKfTcgy1g0prh3oklzj31tk0qq781.jpg">






  <link rel="canonical" href="http://yoursite.com/2019/03/03/spring-ioc/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>spring-ioc | Zyumin</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemsope="" itemtype="http://schema.org/WPHeader">
	  <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zyumin</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">保持自驱和热情</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/Zyumin" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/03/spring-ioc/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhengyumin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zyumin">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">spring-ioc

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-03 14:51:56" itemprop="dateCreated datePublished" datetime="2019-03-03T14:51:56+08:00">2019-03-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-23 16:10:45" itemprop="dateModified" datetime="2019-03-23T16:10:45+08:00">2019-03-23</time>
              
            
          </span>

          

          
            
            
          

          
          
            <span id="/2019/03/03/spring-ioc/" class="leancloud_visitors" data-flag-title="spring-ioc">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">7.7k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">7 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>阅读的目的？我想要从中获得什么？</p>
<p>​    spring按模块总结 ，ioc和aop是spring的核心</p>
<a id="more"></a>
<!-- toc -->
<h2 id="IoC-container-IoC-容器"><a href="#IoC-container-IoC-容器" class="headerlink" title="IoC container(IoC 容器)"></a>IoC container(IoC 容器)</h2><hr>
<p>[TOC]</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><hr>
<p>​    思考如下问题</p>
<p>​    首先了解为啥需要这个模块？</p>
<p>​    它是啥，这个模块都有啥？</p>
<p>​    根据什么来的，实现了哪些规范？</p>
<h4 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h4><h5 id="从-‘依赖反转’-到-‘依赖注入’"><a href="#从-‘依赖反转’-到-‘依赖注入’" class="headerlink" title="从 ‘依赖反转’ 到 ‘依赖注入’"></a>从 ‘依赖反转’ 到 ‘依赖注入’</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In early 2004, Martin Fowler asked the readers of his site: when talking about Inversion of Control: “the question is, what aspect of control are [they] inverting?”</span><br></pre></td></tr></table></figure>
<p>​    2004年，Martin Fowler 对依赖反转 提出了问题，并获得结论，依赖对象的获得被反转了，基于这个结论提出了个更好的名字，依赖注入。如果对象的引用或依赖关系的管理由具体对象来完成，会导致代码高度耦合和可测试性的降低。</p>
<h5 id="从-‘对象-对象’-到-‘对象-IOC容器-对象’"><a href="#从-‘对象-对象’-到-‘对象-IOC容器-对象’" class="headerlink" title="从 ‘对象-对象’ 到 ‘对象-IOC容器-对象’"></a>从 ‘对象-对象’ 到 ‘对象-IOC容器-对象’</h5><p>​    依赖反转是一种设计模式，实现有很多种方式，ioc容器式实现这个模式的载体，管理对象，对象之间的关系</p>
<p>​    </p>
<h5 id="对象的分类"><a href="#对象的分类" class="headerlink" title="对象的分类"></a>对象的分类</h5><p>​    数据对象<br>​    数据处理对象 不常发生变化，是系统中基础的部分，不涉及数据和状态共享的问题，依赖关系比较稳定，单例</p>
<p>存在于应用系统，但是对象的管理交给了容器（平台）</p>
<h5 id="与EJB的关系、对比"><a href="#与EJB的关系、对比" class="headerlink" title="与EJB的关系、对比"></a>与EJB的关系、对比</h5><p>​    一方面，spring，ioc提供了一个基本的JavaBean容器，通过Ioc模式管理依赖关系，并通过依赖注入和AOP切面增强了<br>​    为JavaBean这样的POJO对象赋予事务管理、生命周期管理等基本功能；为防止注入异常，嗨提供特定依赖的检查。</p>
<p>​    EJB组件需要编写远程/本地接口、Home接口以及Bean的实现类，需要依赖EJB容器 JBOSS，查找其他EJB组件也需要通过诸如JNDI这样的方式，从而造成了对EJB容器和技术规范的依赖。</p>
<p>​    spring把EJB组件还原成了POJO对象或者JavaBean对象，降低了应用开发对传统J2EE技术规范的依赖。<br>但是因为封装、抽象的太好了，反而让J2EE的初学者忽略了相关规范</p>
<p>​    另一方面，通过可读的文本来完成配置，并且还能通过工具对这些配置信息进行可视化管理和浏览。并且如果耦合关系需要变动，并不需要重新修改和编译Java源代码，符合面向对象设计原则的开闭原则。如果结合OSGI还能提高应用的动态部署能力            </p>
<h4 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h4><h5 id="依赖查找-Dependency-Lookup"><a href="#依赖查找-Dependency-Lookup" class="headerlink" title="依赖查找(Dependency Lookup)"></a>依赖查找(Dependency Lookup)</h5><p>​    ID、别名、名称查找<br>​        BeanFactory#getBean(String) : Object </p>
<p>​    类型查找<br>​        BeanFactory#getBean(Class) : T </p>
<p>​    注解查找<br>​        ListableBeanFactory#getBeansWithAnnotation(Class) </p>
<p>​    FactoryBean 查找<br>​        FactoryBean#getObject() </p>
<p>​    ObjectFactory 查找<br>​              ObjectFactory#getObject()</p>
<h5 id="依赖注入-Dependency-Injection"><a href="#依赖注入-Dependency-Injection" class="headerlink" title="依赖注入(Dependency Injection)"></a>依赖注入(Dependency Injection)</h5><p>​    方法<br>​        Spring @Autowired </p>
<p>​        Java @Resource </p>
<p>​        Java EE @Inject<br>​    注入方式  </p>
<p>​        接口、setter、构造器</p>
<p>spring官方更推荐使用构造器的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The Spring team generally advocates constructor injection, as it lets you implement application components as immutable objects and ensures that required dependencies are not null. Furthermore, constructor-injected components are always returned to the client (calling) code in a fully initialized state. As a side note, a large number of constructor arguments is a bad code smell, implying that the class likely has too many responsibilities and should be refactored to better address proper separation of concerns.</span><br></pre></td></tr></table></figure>
<p>在Ex中</p>
<p>Type2 构造子注入的优势: </p>
<ol>
<li><p>“在构造期即创建一个完整、合法的对象”，对于这条Java设计原则，Type2无疑是最好的 </p>
<p> 响应者。 </p>
</li>
<li><p>避免了繁琐的setter方法的编写，所有依赖关系均在构造函数中设定，依赖关系集中呈现， </p>
<p> 更加易读。 </p>
</li>
<li><p>由于没有setter方法，依赖关系在构造时由容器一次性设定，因此组件在被创建之后即处于 </p>
<p> 相对“不变”的稳定状态，无需担心上层代码在调用过程中执行setter方法对组件依赖关系 </p>
<p> 产生破坏，特别是对于Singleton模式的组件而言，这可能对整个系统产生重大的影响。 </p>
</li>
<li><p>同样，由于关联关系仅在构造函数中表达，只有组件创建者需要关心组件内部的依赖关系。 </p>
<p> 对调用者而言，组件中的依赖关系处于黑盒之中。对上层屏蔽不必要的信息，也为系统的 </p>
<p> 层次清晰性提供了保证。 </p>
</li>
<li><p>通过构造子注入，意味着我们可以在构造函数中决定依赖关系的注入顺序，对于一个大量 </p>
<p> 依赖外部服务的组件而言，依赖关系的获得顺序可能非常重要，比如某个依赖关系注入的 先决条件是组件的DataSource及相关资源已经被设定。 </p>
</li>
</ol>
<p>Type3 设值注入的优势 </p>
<ol>
<li><p>对于习惯了传统JavaBean开发的程序员而言，通过setter方法设定依赖关系显得更加直 </p>
<p> 观，更加自然。 </p>
</li>
<li><p>如果依赖关系(或继承关系)较为复杂，那么Type2模式的构造函数也会相当庞大(我们需 </p>
<p> 要在构造函数中设定所有依赖关系)，此时Type3模式往往更为简洁。 </p>
</li>
<li><p>对于某些第三方类库而言，可能要求我们的组件必须提供一个默认的构造函数(如Struts </p>
<p> 中的Action)，此时Type2类型的依赖注入机制就体现出其局限性，难以完成我们期望的功能。</p>
</li>
</ol>
<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><hr>
<p>​    官方网站提过：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">At the heart are the modules of the core container, including a configuration model and a dependency injection mechanism.</span><br></pre></td></tr></table></figure>
<p>​    从之前的module图可以知道有如下四部分。</p>
<p>​    </p>
<h4 id="从Beans说起"><a href="#从Beans说起" class="headerlink" title="从Beans说起"></a>从Beans说起</h4><p>​    Spring 就是面向 Bean 的编程（BOP,Bean Oriented Programming），Bean 在 Spring 中作用就像 Object 对 OOP 的意义一样，没有对象的概念就像没有面向对象编程，Spring 中没有 Bean 也就没有 Spring 存在的意义</p>
<p>​    这个包下的所有类主要解决了三件事：Bean 的定义、Bean 的创建以及对 Bean 的解析</p>
<h5 id="Bean-的创建"><a href="#Bean-的创建" class="headerlink" title="Bean 的创建"></a>Bean 的创建</h5><p>​    Spring Bean 的创建时典型的工厂模式，它的顶级接口是 <code>BeanFactory</code></p>
<p>​    <code>BeanFactory</code> 有三个子类：</p>
<p>​        <code>ListableBeanFactory</code> 接口 ：表示这些 Bean 是可列表的</p>
<p>​        <code>HierarchicalBeanFactory</code>  ：表示的这些 Bean 是有继承关系的，有父bean</p>
<p>​        <code>AutowireCapableBeanFactory</code> ：接口定义 Bean 的自动装配规则</p>
<p>​    上述的接口共同定义了 Bean 的集合、Bean 之间的关系、以及 Bean 行为，它们的默认实现类是 <code>DefaultListableBeanFactory</code></p>
<p>​    todo ==DefaultListableBeanFactory的子类分析==</p>
<h5 id="Bean-的定义"><a href="#Bean-的定义" class="headerlink" title="Bean 的定义"></a>Bean 的定义</h5><p>​    Bean 的定义主要有 BeanDefinition 描述，主要来自两方面</p>
<p>​        XML定义，</p>
<p>​        注解扫描 @Service @Entity @Bean @Configuration</p>
<h5 id="Bean-的解析"><a href="#Bean-的解析" class="headerlink" title="Bean 的解析"></a>Bean 的解析</h5><p>​    把xml解析成Resource类            </p>
<h5 id="Spring-Bean-封装机制"><a href="#Spring-Bean-封装机制" class="headerlink" title="Spring Bean 封装机制"></a>Spring Bean 封装机制</h5><p>​    Spring 从核心而言，是一个 DI 容器，其设计哲学是提供一种无侵入式的高扩展性框架。即无需代码中涉及 Spring 专有类（指Bean），即可将其纳入 Spring 容器进行管理。 </p>
<p>​    作为对比，EJB 则是一种高度侵入性的框架规范，它制定了众多的接口和编码规范，要求实现者必须 遵从。侵入性的后果就是，一旦系统基于侵入性框架设计开发，那么之后任何脱离这个框架的企图都将付 出极大的代价。 </p>
<p>​    Spring 大量引入了 Java 的 Reflection 机制，通过动态 调用的方式避免硬编码方式的约束，并在此基础上建立了其核心组件 BeanFactory，以此作为其依赖注入 机制的实现基础。 </p>
<p>org.springframework.beans 包中包括了这些核心组件的实现类，核心中的核心为 BeanWrapper<br>和 BeanFactory 类。</p>
<h6 id="BeanWrapper"><a href="#BeanWrapper" class="headerlink" title="BeanWrapper"></a>BeanWrapper</h6><p>​    这个BeanWrapper的功能很简单，提供一个设置JavaBean属性的通用方法， 动态设置一个对象属性</p>
<h5 id="Bean-Factory"><a href="#Bean-Factory" class="headerlink" title="Bean Factory"></a>Bean Factory</h5><p>​    负责创建并维护Bean实例。 </p>
<p>Bean Factory负责根据配置文件创建Bean实例，可以配置的项目有:</p>
<ol>
<li>Bean属性值及依赖关系(对其他Bean的引用)  property</li>
<li>Bean创建模式(是否Singleton模式，即是否只针对指定类维持全局唯一的实例)  singleton</li>
<li>Bean初始化和销毁方法  init-method  destroy-method</li>
<li>Bean的依赖关系。 depends-on（通过depends-on指定其依赖关系可保证在此Bean加载之前，首先对depends-on所指定的资源进行加载）</li>
</ol>
<p>​    </p>
<h4 id="容器Context"><a href="#容器Context" class="headerlink" title="容器Context"></a>容器Context</h4><p>​    BeanFactory提供了针对Java Bean的管理功能，而ApplicationContext提供了一个更为框架化的 实现(从上面的示例中可以看出，BeanFactory的使用方式更加类似一个API，而非Framework style)。 </p>
<p>​    ApplicationContext覆盖了BeanFactory的所有功能，并提供了更多的特性。此外， ApplicationContext为与现有应用框架相整合，提供了更为开放式的实现(如对于Web应用，我们可以在 web.xml中对ApplicationContext进行配置)。 </p>
<p>​    ApplicationContext 是 Context 的顶级父类，他除了能标识一个应用环境的基本信息外，他还继承了五个接口，这五个接口主要是扩展了 Context 的功能。下面是 Context 的类结构图</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1g0prh3oklzj31tk0qq781.jpg" alt="image-20190303180157960"></p>
<p>相对BeanFactory而言，ApplicationContext提供了以下扩展功能: </p>
<ol>
<li>国际化支持 我们可以在Beans.xml文件中，对程序中的语言信息(如提示信息)进行定义，将程序中的提示 信息抽取到配置文件中加以定义，为我们进行应用的各语言版本转换提供了极大的灵活性。 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（native2ascii messages_zh_CN.properties msg.txt）</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>资源访问 支持对文件和URL的访问。 </li>
<li>事件传播 事件传播特性为系统中状态改变时的检测提供了良好支持。 </li>
<li>多实例加载 可以在同一个应用中加载多个Context实例。 </li>
</ol>
<h5 id="Core"><a href="#Core" class="headerlink" title="Core"></a>Core</h5><p>​    其实 Core 就是发现、建立和维护每个 Bean 之间的关系所需要的一些列的工具，从这个角度看来，Core 这个组件叫 Util 更能让你理解。</p>
<p>下图是 Resource 相关的类结构图：</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1g0prtjnknbj31wk0rkgp4.jpg" alt="image-20190303181354519"></p>
<p>​    从上图可以看出 Resource 接口封装了各种可能的资源类型，也就是对使用者来说屏蔽了文件类型的不同。</p>
<p>​    对资源的提供者来说，如何把资源包装起来交给其他人用这也是一个问题，我们看到 Resource 接口继承了 InputStreamSource 接口，这个接口中有个 getInputStream 方法，返回的是 InputStream 类。这样所有的资源都被可以通过 InputStream 这个类来获取，所以也屏蔽了资源的提供者。</p>
<p>​    另外还有一个问题就是加载资源的问题，也就是资源的加载者要统一，从上图中可以看出这个任务是由 ResourceLoader 接口完成，他屏蔽了所有的资源加载者的差异，只需要实现这个接口就可以加载所有的资源，他的默认实现是 DefaultResourceLoader。</p>
<h5 id="SpEL"><a href="#SpEL" class="headerlink" title="SpEL"></a><del>SpEL</del></h5><p><strong>如何创建 BeanFactory 工厂</strong></p>
<p><strong>如何创建 Bean 实例并构建 Bean 的关系网</strong></p>
<h3 id="规范"><a href="#规范" class="headerlink" title="规范"></a>规范</h3><hr>
<p>实现了哪些规范？</p>
<h4 id="Java-Beans"><a href="#Java-Beans" class="headerlink" title="Java Beans"></a>Java Beans</h4><p>​            内省</p>
<p>​            基础核心特性:反射(Reflection) </p>
<p>​            附加特性:引用(Reference)<br>​                Reference<br>​                                SoftReference<br>​                                WeakReference<br>​                                PhantomReference<br>​                                FinalReference<br>​                       BeanInfo<br>​                               BeanDescriptor<br>​                      PropertyDescriptor<br>​                            事件: PropertyChangeEvent<br>​                                java.util.EventObject </p>
<p>​                            监听器: PropertyChangeListener<br>​                                             java.util.EventListener<br>​                              MethodDescriptor</p>
<h4 id="Dependency-Injection-JSR-330"><a href="#Dependency-Injection-JSR-330" class="headerlink" title="Dependency Injection (JSR 330)"></a>Dependency Injection (<a href="https://www.jcp.org/en/jsr/detail?id=330" target="_blank" rel="noopener">JSR 330</a>)</h4><h4 id="Bean-Validation-JSR-303"><a href="#Bean-Validation-JSR-303" class="headerlink" title="Bean Validation (JSR 303)"></a>Bean Validation (<a href="https://jcp.org/en/jsr/detail?id=303" target="_blank" rel="noopener">JSR 303</a>)</h4><h4 id="Common-Annotations-JSR-250"><a href="#Common-Annotations-JSR-250" class="headerlink" title="Common Annotations (JSR 250)"></a>Common Annotations (<a href="https://jcp.org/en/jsr/detail?id=250" target="_blank" rel="noopener">JSR 250</a>)</h4><h3 id="API-Doc"><a href="#API-Doc" class="headerlink" title="API-Doc"></a>API-Doc</h3><hr>
<p><a href="https://docs.spring.io/spring/docs/5.1.5.RELEASE/javadoc-api/" target="_blank" rel="noopener">https://docs.spring.io/spring/docs/5.1.5.RELEASE/javadoc-api/</a></p>
<h4 id="beans"><a href="#beans" class="headerlink" title="beans"></a>beans</h4><p>Package org.springframework.beans Description</p>
<p>This package contains interfaces and classes for manipulating Java beans. It is used by most other Spring packages.</p>
<p>A BeanWrapper object may be used to set and get bean properties, singly or in bulk.</p>
<p>The classes in this package are discussed in Chapter 11 of <a href="https://www.amazon.com/exec/obidos/tg/detail/-/0764543857/" target="_blank" rel="noopener">Expert One-On-One J2EE Design and Development</a> by Rod Johnson (Wrox, 2002).</p>
<h4 id="context"><a href="#context" class="headerlink" title="context"></a>context</h4><p>Package org.springframework.context Description</p>
<p>This package builds on the beans package to add support for message sources and for the Observer design pattern, and the ability for application objects to obtain resources using a consistent API.</p>
<p>There is no necessity for Spring applications to depend on ApplicationContext or even BeanFactory functionality explicitly. One of the strengths of the Spring architecture is that application objects can often be configured without any dependency on Spring-specific APIs.</p>
<h4 id="core"><a href="#core" class="headerlink" title="core"></a>core</h4><p>Package org.springframework.core Description</p>
<p>Provides basic classes for exception handling and version detection, and other core helpers that are not specific to any part of the framework.</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/spring/" rel="tag"># spring</a>
          
            <a href="/tags/ioc/" rel="tag"># ioc</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/02/spring/" rel="next" title="spring">
                <i class="fa fa-chevron-left"></i> spring
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/03/10/Expert-One-on-One-J2EE-Design-and-Development-总结/" rel="prev" title="Expert One-on-One J2EE Design and Development">
                Expert One-on-One J2EE Design and Development <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MzM0Ny8xOTg4OA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="zhengyumin">
            
              <p class="site-author-name" itemprop="name">zhengyumin</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Zyumin" title="GitHub &rarr; https://github.com/Zyumin" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#IoC-container-IoC-容器"><span class="nav-number">1.</span> <span class="nav-text">IoC container(IoC 容器)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#问题"><span class="nav-number">1.1.</span> <span class="nav-text">问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IOC"><span class="nav-number">1.1.1.</span> <span class="nav-text">IOC</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#从-‘依赖反转’-到-‘依赖注入’"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">从 ‘依赖反转’ 到 ‘依赖注入’</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#从-‘对象-对象’-到-‘对象-IOC容器-对象’"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">从 ‘对象-对象’ 到 ‘对象-IOC容器-对象’</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#对象的分类"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">对象的分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#与EJB的关系、对比"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">与EJB的关系、对比</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DI"><span class="nav-number">1.1.2.</span> <span class="nav-text">DI</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#依赖查找-Dependency-Lookup"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">依赖查找(Dependency Lookup)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#依赖注入-Dependency-Injection"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">依赖注入(Dependency Injection)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块"><span class="nav-number">1.2.</span> <span class="nav-text">模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#从Beans说起"><span class="nav-number">1.2.1.</span> <span class="nav-text">从Beans说起</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean-的创建"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Bean 的创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean-的定义"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Bean 的定义</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean-的解析"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">Bean 的解析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Spring-Bean-封装机制"><span class="nav-number">1.2.1.4.</span> <span class="nav-text">Spring Bean 封装机制</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#BeanWrapper"><span class="nav-number">1.2.1.4.1.</span> <span class="nav-text">BeanWrapper</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bean-Factory"><span class="nav-number">1.2.1.5.</span> <span class="nav-text">Bean Factory</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#容器Context"><span class="nav-number">1.2.2.</span> <span class="nav-text">容器Context</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Core"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">Core</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SpEL"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">SpEL</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#规范"><span class="nav-number">1.3.</span> <span class="nav-text">规范</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Java-Beans"><span class="nav-number">1.3.1.</span> <span class="nav-text">Java Beans</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Dependency-Injection-JSR-330"><span class="nav-number">1.3.2.</span> <span class="nav-text">Dependency Injection (JSR 330)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bean-Validation-JSR-303"><span class="nav-number">1.3.3.</span> <span class="nav-text">Bean Validation (JSR 303)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Common-Annotations-JSR-250"><span class="nav-number">1.3.4.</span> <span class="nav-text">Common Annotations (JSR 250)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#API-Doc"><span class="nav-number">1.4.</span> <span class="nav-text">API-Doc</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#beans"><span class="nav-number">1.4.1.</span> <span class="nav-text">beans</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#context"><span class="nav-number">1.4.2.</span> <span class="nav-text">context</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#core"><span class="nav-number">1.4.3.</span> <span class="nav-text">core</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhengyumin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">197k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">2:59</span>
  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  
    <script>
  window.livereOptions = {
    refer: '2019/03/03/spring-ioc/'
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
</script>

  


  




  
  
  <script>
    
    function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': 1 } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + 1);
              })
            
              .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
              })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1 }))
                .done(function() {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function() {
                  console.log('Failed to create');
                });
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'D2GGMftjnaihnt6xGsBOCK1T-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'D2GGMftjnaihnt6xGsBOCK1T-gzGzoHsz',
                'X-LC-Key': '42G22rkOJK422bv0XSJhBrW6',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            addCount(Counter);
          
        });
    });
  </script>



  

  

  

  

  

  

  

  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>
